<ul class="breadcrumb">
    <li><a href="javascript:;" ng-click="changePath('/dashboard')">Home</a></li>
    <li><a href="javascript:;" style="cursor:text">Matters</a></li>
    <!-- <li ng-if="isNewMatter"><a href="#">New</li> -->
</ul>

<div class="page-title" style="cursor:text">                    
    <h2><span class="fa fa-th-large"></span> Matter <!-- <small>{{categoryWiseContact.length}} contacts</small> --></h2>
</div>


<!-- <div class="row">
	<div class="">

		
	</div>
</div> -->
	<div class="panel panel-default tabs" ng-controller="usersController">                            
        <ul class="nav nav-tabs" role="tablist" id="myTab">
            <li class="active matterslist"><a onclick="$('#newmatter').removeClass('active');$('#viewmatter').removeClass('active');$('#matterslist').addClass('active');" href="#matterslist" role="tab" data-toggle="tab" data-ng-init="removeExtrasTag();">Matters</a></li>
            <li id="matterTab{{tab._id}}" class="matter{{tab._id}}" ng-repeat="tab in matterTabs track by $index">
		    	<a ng-click="showMatterTab($index)" hovereffect href="#viewmatter" data-toggle="tab" role="tab">{{tab.name}} <i class="fa fa-times" style="cursor:pointer;	visibility: hidden;" ng-click="discardMatter($index)"></i></a>
		    </li>
		    <li ng-if="isNewMatter" class="newmatter"><a hovereffect href="#newmatter" ng-click="resetMatterData();initPartiesForm();" style="width:120px;" role="tab" data-toggle="tab">New Matter <i class="fa fa-times" style="cursor:pointer;float:right; visibility: hidden;" ng-click="discardNewMatter()"></i></a></li>
        </ul>                            
        <div class="panel-body tab-content matter-wrappr">
            <div class="tab-pane active" id="matterslist">
            	<div class="row">
            		<div class="col-sm-3">
                        <div class="input-group">
                            <div class="input-group-addon">
                                <span class="fa fa-search"></span>
                            </div>
                            <input type="text" class="form-control" ng-model="matterSearch" placeholder="Search..."/>  
                        </div>
                    </div>
	                <div class="col-sm-2">
	                    <div class="form-group">
	                        <select ng-select class="form-control select" ng-model="sortBy" data-style="btn btn-default">
	                            <option value="">Sort by</option>
	                            <option value="matter.property.matter_name">Matter Name</option>
	                            <option value="matter.type">Matter Type</option>
	                            <option value="matter.property.property_type">Property Type</option>
	                            <option value="matter.property.sales_type">Sales Type</option>
	                            <option value="-date">Newest</option>
	                            <option value="date">Oldest</option>
	                        </select>
	                    </div>
	                </div>
	                <div class="col-sm-3">
	                    <div class="btn-group">
                            <button class="btn btn-default" ng-click="filterMatterType=''">All</button>
                            <button class="btn btn-default" ng-click="filterMatterType='New'">New</button>
                            <button class="btn btn-default" ng-click="filterMatterType='Executed'">Executed</button>                 
                            <button class="btn btn-default" ng-click="filterMatterType='Closed'">Closed</button>
                        </div>
	                </div>
	                <div class="col-sm-2">
	                	
	                </div>
	                <div class="col-sm-2" style="text-align:right">
	                	<div class="form-group">
	                		<button type="button" class="btn btn-success" ng-click="newMatter();initMatterTitle()">
	                			<i class="fa fa-plus"></i>
	                			Matter
	                		</button>
	                	</div>
	                </div>
	            </div>
	            <br>
                <div class="row detl-lst page-scroll-contant-matter" customscroll>
                	<h1 style="text-align:center" ng-if="matters.length==0">Sorry, No Matter Found !</h1>
                	<div class="col-md-3" ng-repeat="m in matters | filterMatter:filterMatterType | filter:matterSearch | orderBy:sortBy:reverse">
                        <!-- CONTACT ITEM -->
                        <div style="cursor:pointer;" class="panel panel-default contct-detl" ng-click="addMatterTab(m._id);">
                            <div class="panel-body profile" style="min-height:130px;">
                                
                                <div class="profile-data">
                                	<br>
                                    <div class="profile-data-name">{{m.matter.property.matter_name}}</div>
                                    <!-- <div class="profile-data-title">Singer-Songwriter</div> -->
                                    <br><br>
                                </div>
                                <div class="matter-sub-title-name">
                                	<p style="color:white; font-size:12px; color:#f1f1f1; text-align:center">
                                		{{m.matter.property.sales_type=="Purchase"? m.parties.buyers[0].name.firstname + " " + m.parties.buyers[0].name.lastname : m.parties.sallers[0].name.firstname + " " + m.parties.sallers[0].name.lastname}}
                                	</p>
                                </div>
                            </div>                                
                            <div class="panel-body" style="min-height:165px">                                   
                                <div class="contact-info" ng-if="matters.length > 0">
                                	<p><small>Property</small><br/>{{m.matter.property.addreses[0].addressline1 + " " + m.matter.property.addreses[0].city + ", " + m.matter.property.addreses[0].state + "" + m.matter.property.addreses[0].zip}}</p>
                                	<br>
                                    <p><small>Matter Type</small><br/>{{m.matter.type}}</p>
                                    <!-- <p><small>Residential/Commercial</small><br/>{{m.matter.property.property_type}}</p>
                                    <p><small>Sale Type</small><br/>{{m.matter.property.sales_type}}</p>
                                    <p><small>Address</small><br/>{{m.matter.property.addreses[0].addressline1 + ", " + m.matter.property.addreses[0].city + ", " + m.matter.property.addreses[0].state + "" + m.matter.property.addreses[0].zip}}</p>  -->
                                    <br>
                                </div>
                            </div>                                
                        </div>
                        <!-- END CONTACT ITEM -->
                    </div>
                </div>
            </div>
            <div class="tab-pane" id="newmatter">
                
            	<div class="panel-default tabs usr-contacts">
					<div class="row">
				      <div class="col-sm-10">				      	
				          <ul class="nav nav-tabs matter-anchr-1">
				            <li ng-click="openTab('matter')" class="{{showTab=='matter'?'active':''}}"><a href="javascript:;" role="tab" data-toggle="tab">Matter</a></li>
				            <li ng-click="openTab('parties')" class="{{showTab=='parties'?'active':''}}"><a href="javascript:;" role="tab" data-toggle="tab">Parties</a></li>
				            <li ng-click="openTab('activity')" class="{{showTab=='activity'?'active':''}}"><a href="javascript:;" role="tab" data-toggle="tab">Activity</a></li>
				            <li ng-click="openTab('documents')" class="{{showTab=='documents'?'active':''}}"><a href="javascript:;" role="tab" data-toggle="tab">Documents</a></li>
				          </ul>				        
				       </div>
				    </div>
				    <div class="col-sm-2" style="margin-top:-33px; float:right;">
				    	<label style="vertical-align:bottom;margin-bottom: 0px;">
                             <select ng-select class="form-control" ng-model="matterForm.type">
                              <option value="New">New</option>
                              <option value="Executed">Executed</option>
                              <option value="Closed">Closed</option>
				              </select>
                            <span></span>
                        </label>
                        <label></label>
                        <button type="button" class="btn btn-success" ng-if="matterForm.property.matter_name" onclick="$('#savematterbutton').click();">Save</button>
				    </div>
				</div>

			    <div class="panel-body tab-content page-scroll-contant-matter-new" customscroll>
			    	
			    	<div class="form-group" ng-if="showTab=='matter'">
			    		<br>
			            <form name="matter_form" ng-submit="matterFormSubmit(matter_form)" novalidate>
			                <div class="row">
			                  	<div class="col-sm-4">

				                    <div class="form-group">
				                      <h3>Property</h3>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                      		<div class="col-sm-12">
					                      		<div class="form-group">
					                      			<input type="text" class="form-control" ng-model="matterForm.property.matter_name" placeholder="Matter Name*" name="matter_name" required>
					                      			<span class="help-block form-error" ng-if="matter_form.matter_name.$error.required">Matter name required*.</span>
					                      		</div>
					                      </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <select ng-select name="sales_type" required class="form-control" ng-model="matterForm.property.sales_type">
				                              <option value="">Matter Type</option>
				                              <option value="Purchase">Purchase</option>
				                              <option value="Sale">Sale</option>
				                              <option value="Title Only">Title Only</option>
				                              <option value="Bank and title">Bank and title</option>
				                              <option value="Bank Only">Bank Only</option>
				                            </select>
				                            <span class="help-block form-error" ng-if="matter_form.sales_type.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <select ng-select name="property_type" required class="form-control" ng-model="matterForm.property.property_type">
				                              <option value="">Property Type</option>
				                              <option value="Residential">Residential</option>
				                              <option value="Commercial">Commercial</option>
				                            </select>
				                            {{}}
				                            <span class="help-block form-error" ng-if="matter_form.property_type.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                          <!-- <div class="form-group">
				                            <select ng-if="matterForm.property.property_type=='Residential'" ng-select name="property_type" required class="form-control" ng-model="matterForm.property.property_type_subtype">
				                              <option value="1 Family House">1 Family House</option>
				                              <option value="2 Family House">2 Family House</option>
				                              <option value="3 Family House">3 Family House</option>
				                              <option value="4 Family House">4 Family House</option>
				                              <option value="Condo Apartment Family House">Condo Apartment</option>
				                              <option value="Co-op Apartment">Co-op Apartment</option>
				                              <option value="Vacant Land">Vacant Land</option>
				                            </select>
				                            <select ng-if="matterForm.property.property_type=='Commercial'" ng-select name="property_type" required class="form-control" ng-model="matterForm.property.property_type_subtype">
				                              <option value="Multi Family House">Multi Family House</option>
				                            </select>
				                            <span class="help-block form-error" ng-if="matter_form.property_type.$error.required  && matter_form_submited">Required*.</span>
				                          </div> -->
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">

				                          	<select ng-if="matterForm.property.property_type=='Residential'" ng-select name="property_type" required class="form-control" ng-model="matterForm.property.property_type_subtype">
				                          		<option value="">Propery Details</option>
				                              <option value="1 Family House">1 Family House</option>
				                              <option value="2 Family House">2 Family House</option>
				                              <option value="3 Family House">3 Family House</option>
				                              <option value="4 Family House">4 Family House</option>
				                              <option value="Condo Apartment Family House">Condo Apartment</option>
				                              <option value="Co-op Apartment">Co-op Apartment</option>
				                              <option value="Vacant Land">Vacant Land</option>
				                            </select>
				                            <select ng-if="matterForm.property.property_type=='Commercial'" ng-select name="property_type" required class="form-control" ng-model="matterForm.property.property_type_subtype">
				                            	<option value="">Propery Details</option>
				                              <option value="Multi Family House">Multi Family House</option>
				                            </select>
				                            <span class="help-block form-error" ng-if="matter_form.property_type.$error.required  && matter_form_submited">Required*.</span>

				                            <!-- <select ng-select name="house_type" required class="form-control" ng-model="matterForm.property.house_type">
				                              <option value="">House Type</option>
				                              <option value="Family House">Family House</option>
				                              <option value="Other">Other</option>
				                            </select>
				                            <span class="help-block form-error" ng-if="matter_form.house_type.$error.required  && matter_form_submited">Required*.</span> -->
				                          </div>
				                        </div>
				                        <div class="col-sm-6" ng-if="matterForm.property.property_type_subtype == '1 Family House' || matterForm.property.property_type_subtype == '2 Family House' || matterForm.property.property_type_subtype == '3 Family House' || matterForm.property.property_type_subtype == '4 Family House'">
				                          <div class="form-group">
				                            <select ng-select name="no_of_floors" required class="form-control" ng-model="matterForm.property.no_of_floors">
				                              <option value=0>No. Of Floors</option>
				                              <option value=1>1</option>
				                              <option value=2>2</option>
				                              <option value=3>3</option>
				                              <option value=4>4</option>
				                              <option value=5>5</option>
				                              <option value=6>6</option>
				                              <option value=7>7</option>
				                              <option value=8>8</option>
				                              <option></option>
				                            </select>
				                            <span class="help-block form-error" ng-if="matter_form.no_of_floors.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <select ng-select name="no_of_buyers" ng-change="setBuyersLength()" required class="form-control" ng-model="matterForm.property.no_of_buyers">
				                              <option value=0>No. Of Buyers</option>
				                              <option value=1>1</option>
				                              <option value=2>2</option>
				                              <option value=3>3</option>
				                              <option value=4>4</option>
				                              <option value=5>5</option>
				                            </select>
				                            <span class="help-block form-error" ng-if="matter_form.no_of_buyers.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <select ng-select name="no_of_salers" ng-change="setSellersLength()" required class="form-control" ng-model="matterForm.property.no_of_salers">
				                              <option value=0>No. Of Sellers</option>
				                              <option value=1>1</option>
				                              <option value=2>2</option>
				                              <option value=3>3</option>
				                              <option value=4>4</option>
				                              <option value=5>5</option>
				                            </select>
				                            <span class="help-block form-error" ng-if="matter_form.no_of_salers.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <label class="ui-checkbox">
				                        <input type="checkbox" name="has_tenants" ng-model="matterForm.property.has_tenants">
				                        <span><b>Has Tenants</b></span>
				                      </label>
				                    </div>

				                    <div class="form-group">
				                      <div ng-repeat="address in matterForm.property.addreses track by $index">
				                        <div style="padding-left:10px">
                                            <a href="javascript:;" data-toggle="modal" data-target="#modal_addressadd{{$index}}">
                                                <label for="exampleInputEmail1">Property Address {{$index+1}}</label>
                                            </a>&nbsp<i style="cursor:pointer" ng-if="$index>0" ng-click="removeAddress($index)">x</i>
                                        </div>
                                        <div class="modal" id="modal_addressadd{{$index}}" tabindex="-1" role="dialog" aria-labelledby="defModalHead" aria-hidden="true">
                                            <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                                                    <h4 class="modal-title" id="defModalHead">Property Address {{$index+1}} Detail</h4>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>House Number</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Street Number" data-ng-model="address.housenumber">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Lot</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Lot" data-ng-model="address.lot">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                     <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Block</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Block" data-ng-model="address.block">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                     <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Section</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Section" data-ng-model="address.section">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Building</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Building" data-ng-model="address.building">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Building Class</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Building Class" data-ng-model="address.buildingclass">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Building Type</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Building Type" data-ng-model="address.buildingtype">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Street Name AKA</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input type="text" class="form-control" data-ng-model="address.streetnameaka"  placeholder="Street Name also knows as">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Intersection Street 1</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Intersection Street 1" data-ng-model="address.intersectionstreet1">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Intersection Street 2</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Intersection Street 2" data-ng-model="address.intersectionstreet2">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Country</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Country" data-ng-model="address.country">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>District</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="District" data-ng-model="address.district">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>District Code</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="District Code" data-ng-model="address.districtcode">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Municipility</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Municipility" data-ng-model="address.municipility">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Town</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Town" data-ng-model="address.town">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Sub Division</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Sub Division" data-ng-model="address.subdivision">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Neighborhood</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Neighborhood" data-ng-model="address.neighborhood">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>School District</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="School District" data-ng-model="address.schooldistrict">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-default" ng-click="saveCompanyForm()" data-dismiss="modal">Save</button>
                                                    <button type="button" class="btn btn-default" ng-click="cancleCompanyForm()" data-dismiss="modal">Close</button>
                                                </div>
                                            </div>
                                            </div>
                                        </div>

				                        <div class="form-group">
					                      	<div class="row">
					                      		<div class="col-sm-3">
							                        <div class="form-group">
							                          <ng-form name="addresLine1Form1">
							                            <input type="text" class="form-control" name="homenumber"  placeholder="House Number*" ng-pattern="/^\d+$/" ng-model="address.homenumber" required>
							                            <span class="help-block form-error" ng-if="addresLine1Form1.homenumber.$error.pattern">Should be in number.</span>
							                            <span class="help-block form-error" ng-if="addresLine1Form1.homenumber.$error.required && matter_form_submited">House number required.</span>
							                         </ng-form>
							                        </div>
							                	</div>

							                	<div class="col-sm-6">
							                        <div class="form-group">
							                          <ng-form name="addresLine1Form">
							                            <input type="text" class="form-control" name="streetname"  placeholder="Street Name*" ng-model="address.streetname" required>
							                            <span class="help-block form-error" ng-if="addresLine1Form.streetname.$error.required  && matter_form_submited">Street name required.</span>
							                         </ng-form>
							                        </div>
							                	</div>

							                	<div class="col-sm-3">
							                        <div class="form-group">
							                          <ng-form name="addresLine1Form">
							                            <input type="text" class="form-control" name="streetsuffix"  placeholder="Street Suffix*" data-ng-model="address.streetsuffix" required>
							                            <span class="help-block form-error" ng-if="addresLine1Form.streetsuffix.$error.required  && matter_form_submited">Street suffix required.</span>
							                         </ng-form>
							                        </div>
							                	</div>
							                </div>
							            </div>
				                      
				                        <div class="form-group">
				                           <div class="row">
				                             <div class="col-md-6">
				                                <ng-form name="addressCityForm">
				                                  <input  type="text" class="form-control" name="city" placeholder="City*" data-ng-trim='false'data-ng-model="address.city" required>
				                                  <span class="help-block form-error" ng-if="addressCityForm.city.$error.required  && matter_form_submited">Required*.</span> 
				                                </ng-form>          
				                               
				                              </div>
				                              <div class="col-md-3">
				                                  <ng-form name="addresStateForm">
				                                    <input  type="text" class="form-control" name="state" placeholder="State*" data-ng-trim='false' data-ng-model="address.state" required>
				                                    <span class="help-block form-error" ng-if="addresStateForm.state.$error.required  && matter_form_submited">State required.</span> 
				                                  </ng-form>                 
				                              </div>
				                              <div class="col-md-3">
				                                  <ng-form name="addresZipForm">
				                                    <input  type="text" class="form-control" name="zip" placeholder="Zip*" data-ng-model="address.zip" required>
				                                    <span class="help-block form-error" ng-if="addresZipForm.zip.$error.required  && matter_form_submited">Zip required.</span>
				                                    <span class="help-block form-error" ng-if="addresZipForm.zip.$error.pattern && matter_form_submited">Invalid zip.</span>
				                                  </ng-form>                      
				                              </div>
				                            </div>
				                          </div>
				                        </div>
				                        <div class="form-group">
				                          <button class="btn btn-default" type="button" ng-click="addAddress()">+</button>
				                        </div>
				                    </div>

			                	</div>


				                <div class="col-sm-4">
				                    <div class="form-group">
				                      <h3>Finance</h3>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Price*" name="price" required ng-model="matterForm.finances.price">
				                            <span class="help-block form-error" ng-if="matter_form.price.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <select ng-select name="finance_type" required class="form-control" ng-model="matterForm.finances.finance_type">
				                              <option value="">Cash or Mortgage</option>
				                              <option value="Cash">Cash</option>
				                              <option value="Cash & Hard Money (Private) Mortgage">Cash & Hard Money (Private) Mortgage</option>
				                              <option value="Mortgage">Mortgage</option>
				                            </select>
				                            <span class="help-block form-error" ng-if="matter_form.finance_type.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group" ng-if="matterForm.finances.finance_type != 'Cash'">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <select ng-select name="no_of_lenders" required class="form-control" ng-model="matterForm.finances.no_of_lenders" required>
				                              <option value=0>No Of Lenders</option>
				                              <option value=1>1</option>
				                              <option value=2>2</option>
				                              <option value=3>3</option>
				                              <option value=4>4</option>
				                              <option value=5>5</option>
				                            </select>
				                            <span class="help-block form-error" ng-if="(matter_form.no_of_lenders.$error.required  && matter_form_submited)">Required*.</span>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <select ng-select name="mortgage_type" required class="form-control" ng-model="matterForm.finances.mortgage_type">
				                              <option value="">Mortgage Years</option>
				                              <option value="1">1</option>
				                              <option value="2">2</option>
				                              <option value="3">3</option>
				                              <option value="4">4</option>
				                              <option value="5">5</option>
				                              <option value="6">6</option>
				                              <option value="7">7</option>
				                              <option value="8">8</option>
				                              <option value="9">9</option>
				                              <option value="10">10</option>
				                              <option value="11">11</option>
				                              <option value="12">12</option>
				                              <option value="13">13</option>
				                              <option value="14">14</option>
				                              <option value="15">15</option>
				                              <option value="16">16</option>
				                              <option value="17">17</option>
				                              <option value="18">18</option>
				                              <option value="19">19</option>
				                              <option value="20">20</option>
				                              <option value="21">21</option>
				                              <option value="22">22</option>
				                              <option value="23">23</option>
				                              <option value="24">24</option>
				                              <option value="25">25</option>
				                              <option value="26">26</option>
				                              <option value="27">27</option>
				                              <option value="28">28</option>
				                              <option value="29">29</option>
				                              <option value="30">30</option>
				                              <option value="31">31</option>
				                              <option value="32">32</option>
				                              <option value="33">33</option>
				                              <option value="34">34</option>
				                              <option value="35">35</option>
				                              <option value="36">36</option>
				                              <option value="37">37</option>
				                              <option value="38">38</option>
				                              <option value="39">39</option>
				                              <option value="40">40</option>

				                            </select>
				                            <span class="help-block form-error" ng-if="matter_form.mortgage_type.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Cash Total Amount*" name="cash_total_amount" required ng-model="matterForm.finances.cash_total_amount">
				                            <span class="help-block form-error" ng-if="matter_form.cash_total_amount.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Mortgage Total Amount*" name="mortgage_total_amount" required ng-model="matterForm.finances.mortgage_total_amount">
				                            <span class="help-block form-error" ng-if="matter_form.mortgage_total_amount.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Earnest Money*" name="earnest_money" required ng-model="matterForm.finances.earnest_money">
				                            <span class="help-block form-error" ng-if="matter_form.earnest_money.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div> 
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Advance Payment Amount*" name="advance_payment_amount" required ng-model="matterForm.finances.advance_payment_amount">
				                            <span class="help-block form-error" ng-if="matter_form.advance_payment_amount.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Mortgage Monthly Amount*" name="mortgage_monthly_amount" required ng-model="matterForm.finances.mortgage_monthly_amount">
				                            <span class="help-block form-error" ng-if="matter_form.mortgage_monthly_amount.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Mortgage B Amount*" name="mortgage_b_amount" required ng-model="matterForm.finances.mortgage_b_amount">
				                            <span class="help-block form-error" ng-if="matter_form.mortgage_b_amount.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Mortgage Policy Amount*" name="mortgage_policy_amount" required ng-model="matterForm.finances.mortgage_policy_amount">
				                            <span class="help-block form-error" ng-if="matter_form.mortgage_policy_amount.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Mortgage B Policy Amount*" name="mortgage_b_policy_amount" required ng-model="matterForm.finances.mortgage_b_policy_amount">
				                            <span class="help-block form-error" ng-if="matter_form.mortgage_b_policy_amount.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                     <div class="row">
				                      	<div class="col-sm-6">
				                      		<h3>Title No.</h3>
				                      	</div>
				                      	<div class="col-sm-6">
				                      		<h3>Matter Id.</h3>
				                      	</div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      	<div class="row">
				                      		<div class="col-sm-6">
				                    			<div class="form-group">
							                      	<input type="text" class="form-control" style="background:white;color:black" readonly="" placeholder="Mortgage B Policy Amount*" name="unique_number" required ng-model="matterForm.title.unique_number">
							                    </div>
							                </div>
							                <div class="col-sm-6">
				                    			<div class="form-group">
							                      	<input type="text" class="form-control" style="background:white;color:black" readonly="" placeholder="Matter Id*" name="matter_id" required ng-model="matterForm.title.matter_id">
							                    </div>
							                </div>
							            </div>
							        </div>

							        <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="text_search" ng-model="matterForm.title.text_search">
				                              <span>Tax Search (TX)</span>
				                            </label>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="certificate_of_occupancy" ng-model="matterForm.title.certificate_of_occupancy">
				                              <span>Certificate of Occupancy (CO)</span>
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="emergency_repair" ng-model="matterForm.title.emergency_repair">
				                              <span>Emergency Repair (ER)</span>
				                            </label>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="fire_department" ng-model="matterForm.title.fire_department">
				                              <span>Fire Department (FE)</span>
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="housing_and_building" ng-model="matterForm.title.housing_and_building">
				                              <span>Housing and Building (HB)</span>
				                            </label>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="highway_department" ng-model="matterForm.title.highway_department">
				                              <span>Highway Department Search (HI)</span>
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="street_report" ng-model="matterForm.title.street_report">
				                              <span>Street Report (ST)</span>
				                            </label>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="bankruptcy" ng-model="matterForm.title.bankruptcy">
				                              <span>Bankruptcy (BK)</span>
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="patriot_search" ng-model="matterForm.title.patriot_search">
				                              <span>Patriot Search (PN)</span>
				                            </label>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-12">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="full_search_40yrs" ng-model="matterForm.title.full_search_40yrs">
				                              <span>Full Search (40 Years)</span>
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-12">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="attorney_search_10yrs" ng-model="matterForm.title.attorney_search_10yrs">
				                              <span>Attorney Search (10 Years)</span>
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-12">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="reissue_search" ng-model="matterForm.title.reissue_search">
				                              <span>Reissue Search (from the last deed recorded as of record)</span>
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-12">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="coop_lien_search" ng-model="matterForm.title.coop_lien_search">
				                              <span>Coop Search/Lien Search (40 Year Search against the building)</span>
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                </div>
				                <div class="col-sm-4">
				                    <div class="form-group">
				                      <h3>Fees & Taxes</h3>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="purchase Policy Fee*" name="purchase_policy_fee" required ng-model="matterForm.fees_and_taxes.purchase_policy_fee">
				                            <span class="help-block form-error" ng-if="matter_form.purchase_policy_fee.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="purchase Policy Fee*" name="purchase_policy_b_fee" required ng-model="matterForm.fees_and_taxes.purchase_policy_b_fee">
				                            <span class="help-block form-error" ng-if="matter_form.purchase_policy_b_fee.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Homestead Tax*" name="homestead_tax" required ng-model="matterForm.fees_and_taxes.homestead_tax">
				                            <span class="help-block form-error" ng-if="matter_form.homestead_tax.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Loan Origination Fee*" name="loan_origination_fee" required ng-model="matterForm.fees_and_taxes.loan_origination_fee">
				                            <span class="help-block form-error" ng-if="matter_form.loan_origination_fee.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Maintenance Fees*" name="maintenance_fees" required ng-model="matterForm.fees_and_taxes.maintenance_fees">
				                            <span class="help-block form-error" ng-if="matter_form.maintenance_fees.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Legal Fees*" name="legal_fees" required ng-model="matterForm.fees_and_taxes.legal_fees">
				                            <span class="help-block form-error" ng-if="matter_form.legal_fees.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <h3>Notes</h3>
				                    </div>

				                    <div class="form-group">
				                      	<div class="row">
				                      		<div class="col-sm-12">
							                    <div class="form-group" ng-repeat = "note in matterForm.notes track by $index">
							                      <textarea class="form-control" name="notes" ng-model="note.text" placeholder="Note" rows="15"></textarea>
							                    </div>
							                </div>
							            </div>
							        </div>
				                    <div class="form-group">
				                    <!--   <button type="submit" class="btn btn-primary">Next &nbsp<i class="fa  fa-long-arrow-right"></i></button> -->
				                    </div>
				                </div>
			                </div>
			            </form>
			        </div>

		            <div class="form-group" ng-if="showTab=='parties'">
		            	<br>
		              <form name="parties_form" ng-submit="partiesFormSubmit(parties_form)" novalidate>
		                <div class="row">
		               
		                  <div class="col-sm-2">

		                    <div class="form-group">
		                      <h3>Seller<!-- <spna ng-click="addSeller();">+</spna> --></h3>
		                    </div>

		                    <div style="margin-bottom:0px;" class="form-group" ng-repeat="(i, seler) in partiesForm.sellers track by $index">
		                      <ng-form name="innerForm">
		                        <select ng-select data-live-search="true" class="form-control" name="sellers" ng-model="partiesForm.sellers[i]" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="client in totalContacts['Client']" ng-selected="partiesForm.sellers[i] == client._id" value="{{client._id}}">{{client.displayname}}</option>
		                       </select>
		                       <i class="fa  fa-close" ng-click="removeSeller(i)"></i>
		                        <span class="help-block form-error" ng-if="innerForm.sellers.$error.required && parties_form_submiter">Required*.</span>
		                      </ng-form>
		                    </div>
		                    <div class="form-group">
		                      <h3>Agent <!-- <spna ng-click="addSellerAgent();">+</spna> --></h3>
		                    </div>
		                    <div style="margin-bottom:0px;" class="form-group" ng-repeat="(i,seller_agent) in partiesForm.sellers_agent track by $index">
		                      <ng-form name="innerForm">
		                        <select ng-select data-live-search="true" class="form-control" name="agent" ng-model="partiesForm.sellers_agent[i]" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="agent in totalContacts['Real Estate Agent']" ng-selected="partiesForm.sellers_agent[i] == agent._id" value="{{agent._id}}">{{agent.displayname}}</option>
		                       </select>
		                        <i class="fa  fa-close" ng-click="removeSellerAgent($index)"></i>
		                        <span class="help-block form-error" ng-if="innerForm.agent.$error.required && parties_form_submiter">Required*.</span>
		                      </ng-form>
		                    </div>
		                    <div class="form-group">
		                      <h3>Attorney <!-- <spna ng-click="addSellerAttorney();">+</spna> --></h3>
		                    </div>
		                    <div style="margin-bottom:0px;" class="form-group" ng-repeat="(i,seller_attorney) in partiesForm.sellers_attorney track by $index">
		                      <ng-form name="innerForm">
		                        <select ng-select data-live-search="true" class="form-control" name="seller_attorney" ng-model="partiesForm.sellers_attorney[$index]" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="attor in totalContacts['Attorney']" ng-selected="partiesForm.sellers_attorney[i] == attor._id" value="{{attor._id}}">{{attor.displayname}}</option>
		                        </select>
		                        <i class="fa  fa-close" ng-click="removeSellerAttorney($index)"></i>
		                        <span class="help-block form-error" ng-if="innerForm.seller_attorney.$error.required && parties_form_submiter">Required*.</span>
		                      </ng-form>
		                    </div>
		                  </div>

		                  <div class="col-sm-2">
		                    <div class="form-group">
		                      <h3>Buyer<!-- <spna ng-click="addBuyers();">+</spna> --></h3>
		                    </div>
		                    <div style="margin-bottom:0px;" class="form-group" ng-repeat="(i,buyer) in partiesForm.buyers track by $index">
		                      <ng-form name="innerForm">
		                        <select ng-select data-live-search="true" data-live-search="true" class="form-control" name="buyers" ng-model="partiesForm.buyers[i]" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="client in totalContacts['Client']" ng-selected="partiesForm.buyers[i] == client._id" value="{{client._id}}">{{client.displayname}}</option>
		                       </select>
		                        <i class="fa  fa-close" ng-click="removeBuyer($index)"></i>
		                        <span class="help-block form-error" ng-if="innerForm.buyers.$error.required && parties_form_submiter">Required*.</span>
		                      </ng-form>
		                    </div>
		                    <div class="form-group">
		                      <h3>Agent <!-- <spna ng-click="addBuyersAgent();">+</spna> --></h3>
		                    </div>
		                    <div style="margin-bottom:0px;" class="form-group" ng-repeat="(i, buyer_agent) in partiesForm.buyers_agent track by $index">
		                      <ng-form name="innerForm">
		                        <select ng-select data-live-search="true" class="form-control" name="agent" ng-model="partiesForm.buyers_agent[i]" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="agent in totalContacts['Real Estate Agent']" ng-selected="partiesForm.buyers_agent[i] == agent._id" value="{{agent._id}}">{{agent.displayname}}</option>
		                       </select>
		                        <i class="fa  fa-close" ng-click="removeBuyersAgent($index)"></i>
		                        <span class="help-block form-error" ng-if="innerForm.agent.$error.required && parties_form_submiter">Required*.</span>
		                      </ng-form>
		                    </div>
		                    <div class="form-group">
		                      <h3>Attorney <!-- <spna ng-click="addBuyersAttorney();">+</spna> --></h3>
		                    </div>
		                    <div style="margin-bottom:0px;" class="form-group" ng-repeat="buyers_attorney in partiesForm.buyers_attorney track by $index">
		                      <ng-form>
		                        <select ng-select data-live-search="true" class="form-control" name="buyers_attorney" ng-model="partiesForm.buyers_attorney[$index]" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="attor in totalContacts['Attorney']" ng-selected="partiesForm.buyers_attorney[i] == attor._id" value="{{attor._id}}">{{attor.displayname}}</option>
		                        </select>
		                        <i class="fa  fa-close" ng-click="removeBuyersAttorney($index)"></i>
		                        <span class="help-block form-error" ng-if="innerForm.buyers_attorney.$error.required && parties_form_submiter">Required*.</span>
		                      </ng-form>
		                    </div>

		                  </div>

		                  <div class="col-sm-2">
		                    <div class="form-group">
		                      <h3>Lender</h3>
		                    </div>
		                    <div class="form-group">
		                      <select ng-select data-live-search="true" class="form-control" name="buyers_attorney" ng-model="partiesForm.lender" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="land in totalContacts['Lender']" ng-selected="partiesForm.lender[$index] == land._id" value="{{land._id}}">{{land.displayname}}</option>
		                      </select>
		                      <span class="help-block form-error" ng-if="parties_form.lender.$error.required && parties_form_submiter" required>Required*.</span>
		                    </div>
		                    <div class="form-group">
		                      <h3>Attorney</h3>
		                    </div>
		                    <div class="form-group">
		                      <select ng-select data-live-search="true" class="form-control" name="lender_attorney" ng-model="partiesForm.lender_attorney" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="attor in totalContacts['Attorney']" ng-selected="partiesForm.lender_attorney == attor._id" value="{{attor._id}}">{{attor.displayname}}</option>
		                      </select>
		                      <span class="help-block form-error" ng-if="parties_form.lender_attorney.$error.required && parties_form_submiter" required>Required*.</span>
		                    </div>
		                    <div class="form-group">
		                      <h3>Loan Officer</h3>
		                    </div>
		                    <div class="form-group">
		                      <select ng-select data-live-search="true" class="form-control" name="loan_officer" ng-model="partiesForm.loan_officer" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="agent in totalContacts['Loan Officer']" ng-selected="partiesForm.loan_officer == agent._id" value="{{agent._id}}">{{agent.displayname}}</option>
		                       </select>
		                      <span class="help-block form-error" ng-if="parties_form.loan_officer.$error.required && parties_form_submiter" required>Required*.</span>
		                    </div>
		                  </div>

		                  <div class="col-sm-2">
		                    <div class="form-group">
		                      <h3>Surveyor</h3>
		                    </div>
		                    <div class="form-group">
		                      <select ng-select data-live-search="true" class="form-control" name="surveyor" ng-model="partiesForm.surveyor" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="surv in totalContacts['Surveyor']" ng-selected="partiesForm.surveyor == surv._id" value="{{surv._id}}">{{surv.displayname}}</option>
		                       </select>
		                      <span class="help-block form-error" ng-if="parties_form.surveyor.$error.required && parties_form_submiter" required>Required*.</span>
		                    </div>
		                    
		                    <div class="form-group">
		                      <h3>Building Inspector</h3>
		                    </div>
		                    <div class="form-group">
		                      <select ng-select data-live-search="true" class="form-control" name="building_inspector" ng-model="partiesForm.building_inspector" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="b_ins in totalContacts['Building Inspector']" ng-selected="partiesForm.building_inspector == b_ins._id" value="{{b_ins._id}}">{{b_ins.displayname}}</option>
		                       </select>
		                      <span class="help-block form-error" ng-if="parties_form.building_inspector.$error.required && parties_form_submiter">Required*.</span>
		                    </div>
		                    <div class="form-group">
		                      <h3>Past Inspector</h3>
		                    </div>
		                    <div class="form-group">
		                      <select ng-select data-live-search="true" class="form-control" name="past_inspector" ng-model="partiesForm.past_inspector" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="p_ins in totalContacts['Pest Inspector']" ng-selected="partiesForm.past_inspector == p_ins._id" value="{{p_ins._id}}">{{p_ins.displayname}}</option>
		                       </select>
		                      <span class="help-block form-error" ng-if="parties_form.past_inspector.$error.required && parties_form_submiter">Required*.</span>
		                    </div>
		                    <!-- <div ng-repeat="(i,additionalfield) in partiesForm.additionalfields track by $index" class="form-group">
		                      <ng-form name="additionalForm">
		                        <label>{{additionalfield.key}} <i class="fa  fa-close" ng-click="removeAdditionalField(i)"></i></label>

		                        <select ng-select class="form-control" name="aditional_value" ng-model="additionalfield.value" required>
		                          <option value="">--{{additionalfield.key}}--</option>
		                          <option ng-repeat="a_f in totalContacts" ng-selected="additionalfield.value == a_f._id" value="{{p_ins._id}}" ng-if="a_f.category_id.categorie==additionalfield.key">{{a_f.name.firstname + " " + a_f.name.lastname}}</option>
		                       </select>

		                        <input type="text" class="form-control" placeholder="{{additionalfield.key}}*" name="aditional_value" data-ng-model="additionalfield.value" required />
		                        <span class="help-block form-error" ng-if="additionalForm.aditional_value.$error.required  && parties_form_submiter">Please enter {{additionalfield.key}}.</span>
		                      </ng-form>
		                    </div> -->
		                  </div>
		                  <div class="col-sm-3">
		                    <div class="form-group">
		                      <h3>Title Company</h3>
		                    </div>
		                    <div class="form-group">
		                      <select ng-select data-live-search="true" class="form-control" name="title_company" ng-model="partiesForm.title_company" required>
		                          <option value="">Title Company</option>
		                          <option ng-repeat="t_c in totalContacts['Title Company']" ng-selected="partiesForm.title_company == t_c._id" value="{{t_c._id}}">{{t_c.displayname}}</option>
		                       </select>
		                      <span class="help-block form-error" ng-if="parties_form.title_company.$error.required && parties_form_submiter">Required*.</span>
		                    </div>
		                    <div class="form-group">
		                      <h3>Abstract Search</h3>
		                    </div>
		                    <div class="form-group">
		                      <select ng-select data-live-search="true" class="form-control" name="abstract_search" ng-model="partiesForm.abstract_search" required>
		                          <option value="">Abstract Search</option>
		                          <option ng-repeat="t_s in totalContacts['Abstract Search']" ng-selected="partiesForm.abstract_search == t_s._id" value="{{t_s._id}}">{{t_s.displayname}}</option>
		                       </select>
		                      <span class="help-block form-error" ng-if="parties_form.abstract_search.$error.required && parties_form_submiter">Required*.</span>
		                    </div>
		                    <div class="form-group">
		                      <h3>Under Writer</h3>
		                    </div>
		                    <div class="form-group">
		                      <select ng-select data-live-search="true" class="form-control" name="under_writer" ng-model="partiesForm.under_writer" required>
		                          <option value="">Under Writer</option>
		                          <option ng-repeat="u_w in totalContacts['Under Writer']" ng-selected="partiesForm.under_writer == u_w._id" value="{{u_w._id}}">{{u_w.displayname}}</option>
		                       </select>
		                      <span class="help-block form-error" ng-if="parties_form.under_writer.$error.required && parties_form_submiter">Required*.</span>
		                    </div>
		                    <div class="form-group">
		                      <h3>Closer</h3>
		                    </div>
		                    <div class="form-group">
		                      <select ng-select data-live-search="true" class="form-control" name="closer" ng-model="partiesForm.closer" required>
		                          <option value="">Closer</option>
		                          <option ng-repeat="c in totalContacts['Closer']" ng-selected="partiesForm.closer == c._id" value="{{c._id}}" >{{c.displayname}}</option>
		                       </select>
		                      <span class="help-block form-error" ng-if="parties_form.closer.$error.required && parties_form_submiter">Required*.</span>
		                    </div>
		                    <div class="form-group">
		                      <h3>Recording Office</h3>
		                    </div>
		                    <div class="form-group">
		                      <select ng-select data-live-search="true" class="form-control" name="recording_office" ng-model="partiesForm.recording_office" required>
		                          <option value="">Recording Office</option>
		                          <option ng-repeat="r_o in totalContacts['Recording Office']" ng-selected="partiesForm.recording_office == r_o._id" value="{{r_o._id}}">{{r_o.displayname}}</option>
		                       </select>
		                      <span class="help-block form-error" ng-if="parties_form.recording_office.$error.required && parties_form_submiter">Required*.</span>
		                    </div>

		                    <div class="form-group">
		                     <!--  <button type="button" class="btn btn-primary" ng-click="openTab('matter')"><i class="fa  fa-long-arrow-left"></i> Previous</button>
		                      <button type="submit" class="btn btn-primary">Next <i class="fa  fa-long-arrow-right"></i></button> -->
		                    </div>
		                  </div>
		                  
		                </div>
		              </form>
		            </div>

		            <div class="form-group" ng-if="showTab=='activity'">
		              <br>
		              <div class="form-group">
		                    <a href="javascript:;" style="cursor:pointer" class="btn btn-default" data-toggle="modal" data-target="#modal_basic">
		                    	+
		                    </a>
		              </div>
		              <!-- <div class="row">
		              	<div class="col-sm-1">
		              		<div class="form-group">
				              	<select ng-select class="form-control" ng-model="sortActivity">
				              		<option value="">Sort By</option>
				              		<option value="add_to_schedule">Schedule</option>
				              		<option value="-date">Date</option>
				              		<option value="time">Time</option>
				              		<option value="user">User</option>
				              		<option value="remark">Remark</option>
				              	</select>
				            </div>
		              	</div>
		              </div> -->
		              <br>
		              <div class="row">
		              	<div class="col-sm-6" >
		              		<table class="table activity-tab-hover">
				                <tr style="cursor:pointer" ng-repeat="a in activity | orderBy:sortActivity:true" ng-mouseover="setRemarkShow($index,0);" onclick="$('.active-activity').removeClass('active-activity');$(this).addClass('active-activity');">
				                  <td><img src="/assets/images/users/User_Avatar_Gray.png" userimage="a.user" style="border-radius:50%" height="30px" width="30px"/><br>
				                  <label username="a.user"></label></td>
				                  <td>{{a.date}}</td>
				                  <td>{{a.time}}</td>
				                  <td><span>{{a.activity}}</span></td>
				                </tr>
				            </table>
		              	</div>
		              	<div class="col-sm-6" customscroll style="max-height:500px; background-color:#ffffff;" ng-if="remarkShow">
		              		<div class="row">
		              			<div class="col-sm-2">
		              				<a href="javascript:;" style="cursor:pointer" class="btn btn-default" data-toggle="modal" data-target="#modal_new_note">
				                    	+
				                    </a>
		              			</div>
		              			<div class="col-sm-10">
		              				<h3>Office Remarks</h3>
		              			</div>
		              		</div>
		              		<div class="row" ng-repeat="remark in remarkShow track by $index">
		              			<div class="col-sm-1">
		              				<img src="/assets/images/users/User_Avatar_Gray.png" userimage="remark.user" style="border-radius:50%" height="30px" width="30px"/><br><label username="remark.user"></label>
		              				<br><label username="a.user"></label>
		              			</div>
		              			<div class="col-sm-11">
		              				<div text-angular ng-model="remark.note" name="demo-editor{{$index}}" ta-text-editor-class="border-around" ta-html-editor-class="border-around"></div>
		              			</div>
		              		</div>
		              	</div>
		              </div>
		              <div class="form-group" style="float:right">
		               <!--  <button type="button" class="btn btn-primary" ng-click="openTab('parties')"><i class="fa  fa-long-arrow-left"></i>	Attorney Search 	Attorney Search 	Attorney Search </button>
		                <button type="submit" ng-click="openTab('documents')" class="btn btn-primary">Next <i class="fa  fa-long-arrow-right"></i></button> -->
		              </div>	
		            </div>

		            <div class="form-group" ng-if="showTab=='documents'">
		              <br>
		              <div class="row">
		              	<div class="col-sm-1">
		              		<a href="javascript:;" style="cursor:pointer" ng-click="resetDocument();" class="btn btn-default" data-toggle="modal" data-target="#modal_document">
		                    	+
		                    </a>
		              	</div>
		              </div>
		              <div class="row">
		              	<div class="col-sm-10">
		              		<table class="table">
				                <tr ng-repeat="d in documents">
				                  <td>
				                      <input type="checkbox" name="is_checked" ng-model="document.is_checked">
				                  </td>
				                  <td>
				                  	{{getFileExtension(d.document)}}
				                  </td>
				                  <td>{{d.name}}</td>
				                  <td>{{d.notes}}</td>
				                </tr>
				            </table>
				              <div class="form-group" style="float:right">
				               <!--  <button type="button" class="btn btn-primary" ng-click="openTab('activity')"><i class="fa fa-long-arrow-left"></i> Previous</button> -->
				              </div>
		              	</div>
		              </div>
		            </div>
		            <button type="button" style="display:none" class="btn btn-success" id="savematterbutton" ng-click="saveMatter()">Save Matter</button>
				</div>
            </div>

            <div class="tab-pane" id="viewmatter">
                
            	<div class="panel-default tabs usr-contacts">
					<div class="row">
				      <div class="{{isEditMatter?'col-sm-8':'col-sm-9'}}">
				          <ul class="nav nav-tabs matter-anchr-1">
				            <li ng-click="openTab('matter')" class="{{showTab=='matter'?'active':''}}"><a href="javascript:;" role="tab" data-toggle="tab">Matter</a></li>
				            <li ng-click="openTab('parties')" class="{{showTab=='parties'?'active':''}}"><a href="javascript:;" role="tab" data-toggle="tab">Parties</a></li>
				            <li ng-click="openTab('activity')" class="{{showTab=='activity'?'active':''}}"><a href="javascript:;" role="tab" data-toggle="tab">Activity</a></li>
				            <li ng-click="openTab('documents')" class="{{showTab=='documents'?'active':''}}"><a href="javascript:;" role="tab" data-toggle="tab">Documents</a></li>
				          </ul>
				       </div>
				    </div>
				    <div class="{{isEditMatter?'col-sm-4':'col-sm-3'}}" style="margin-top:-33px; float:right;">
				        
				    	<label style="vertical-align:bottom;margin-bottom: 0px;">
                            <select ng-select class="form-control" ng-model="matterForm.type">
                              <option value="New">New</option>
                              <option value="Executed">Executed</option>
                              <option value="Closed">Closed</option>
				              </select>
                            <span></span>
                        </label>
                        <label></label>
				        	<button type="button" class="btn btn-info" ng-if="!isEditMatter" ng-click="setIsEditMatter(true)">Edit</button>
				        	<button type="button" class="btn btn-info" ng-if="isEditMatter" ng-click="setIsEditMatter(false);">Cancel</button>
				        	<button type="button" class="btn btn-danger" ng-if="isEditMatter" ng-click="deleteMatter(editedMatterId)">Delete</button>
				        	<button type="button" class="btn btn-success" ng-if="isEditMatter" onclick="$('#updatematterbutton').click(); $('.matterslist a').click();">Save</button>
				    </div>
				</div>
				

				<div ng-if="!isEditMatter" class="panel-body tab-content page-scroll-contant-matter-view" customscroll>
			    	
			    	<div class="form-group" ng-if="showTab=='matter'">
			    		<br>
			            <form name="matter_form" ng-submit="matterFormSubmit(matter_form)" novalidate>
			                <div class="row">
			                  	<div class="col-sm-4">

				                    <div class="form-group">
				                      <h3>Property</h3>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                      		<div class="col-sm-12">
					                      		<div class="form-group">
					                      			<label>Matter Name : </label> {{matterForm.property.matter_name}}
					                      		</div>
					                      </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                          	<label>Matter Type : </label> {{matterForm.property.sales_type}}
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                          	<label>Property Type : </label>{{matterForm.property.property_type}}
				                            <span class="help-block form-error" ng-if="matter_form.property_type.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label>Property Details : </label>{{matterForm.property.property_type_subtype}}
				                            <span class="help-block form-error" ng-if="matter_form.house_type.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label>No. Of Floors : </label> {{matterForm.property.no_of_floors}}
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                          	<label>No. Of Buyers : </label> {{matterForm.property.no_of_buyers}}
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                          <label>No. Of Sellers : </label> {{matterForm.property.no_of_salers}}
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <label class="ui-checkbox">
				                        <label>Has Tenants : </label>{{matterForm.property.has_tenants?"Yes" : "No"}}

				                      </label>
				                    </div>

				                    <div class="form-group">
				                      <div ng-repeat="address in matterForm.property.addreses track by $index">

				                        <div style="padding-left:10px">
                                            <a href="javascript:;" data-toggle="modal" data-target="#modal_addressview{{$index}}">
                                                <label for="exampleInputEmail1">Property Address {{$index+1}}</label>
                                            </a>
                                        </div>
                                        <div class="modal" id="modal_addressview{{$index}}" tabindex="-1" role="dialog" aria-labelledby="defModalHead" aria-hidden="true">
                                            <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                                                    <h4 class="modal-title" id="defModalHead">Property Address {{$index+1}} Detail</h4>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>House Number</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            {{address.housenumber}}
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Lot</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            {{address.lot}}
                                                        </div>
                                                    </div>
                                                    <br>

                                                     <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Block</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            {{address.block}}
                                                        </div>
                                                    </div>
                                                    <br>

                                                     <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Section</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            {{address.section}}
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Building</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            {{address.building}}
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Building Class</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            {{address.buildingclass}}
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Building Type</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            {{address.buildingtype}}
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Street Name AKA</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            {{address.streetnameaka}}
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Intersection Street 1</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            {{address.intersectionstreet1}}
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Intersection Street 2</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            {{address.intersectionstreet2}}
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Country</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            {{address.country}}
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>District</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            {{address.district}}
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>District Code</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            {{address.districtcode}}
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Municipility</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            {{address.municipility}}
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Town</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            {{address.town}}
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Sub Division</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            {{address.subdivision}}
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Neighborhood</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            {{address.neighborhood}}
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>School District</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            {{address.schooldistrict}}
                                                        </div>
                                                    </div>
                                                    <br>

                                                </div>
                                            </div>
                                            </div>
                                        </div>

				                        <div class="form-group">
					                      	<div class="row">
					                      		<div class="col-sm-3">
							                        {{address.homenumber}}
							                	</div>

							                	<div class="col-sm-6">
							                        {{address.streetname}}
							                	</div>

							                	<div class="col-sm-3">
							                        {{address.streetsuffix}}
							                	</div>
							                </div>
							            </div>
				                      
				                        <div class="form-group">
				                           <div class="row">
				                             <div class="col-md-6">
				                                {{address.city}}
				                              </div>
				                              <div class="col-md-3">
				                                  {{address.state}}                 
				                              </div>
				                              <div class="col-md-3">
				                                  {{address.zip}}                    
				                              </div>
				                            </div>
				                          </div>
				                        </div>
				                    </div>

			                	</div>


				                <div class="col-sm-4">
				                    <div class="form-group">
				                      <h3>Finance</h3>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label>Price : </label> {{matterForm.finances.price}}
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                          	<label>Cash or Mortgage : </label> {{matterForm.finances.finance_type}}
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group" ng-if="matterForm.finances.finance_type != 'Cash'">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                          	<label>No Of Lenders : </label> {{matterForm.finances.no_of_lenders}}
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                          	<label>Mortgage Years</label> {{matterForm.finances.mortgage_type}}
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                          	<label>Cash Total Amount : </label>{{matterForm.finances.cash_total_amount}}
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                          	<label>Mortgage Total Amount : </label> {{matterForm.finances.mortgage_total_amount}}
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                          	<label>Earnest Money : </label>{{matterForm.finances.earnest_money}}
				                          </div>
				                        </div> 
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                          	<label>Advance Payment Amount : </label> {{matterForm.finances.advance_payment_amount}}
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                          	<label>Mortgage Monthly Amount : </label> {{matterForm.finances.mortgage_monthly_amount}}
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                          	<label>Mortgage B Amount : </label> {{matterForm.finances.mortgage_b_amount}}
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                          	<label>Mortgage Policy Amount : </label> {{matterForm.finances.mortgage_policy_amount}}
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                          	<label>Mortgage B Policy Amount : </label> {{matterForm.finances.mortgage_b_policy_amount}}
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                    	<div class="row">
				                    		<div class="col-sm-6">
				                    			<label>Title No</label>
				                    		</div>
				                    		<div class="col-sm-6">
				                    			<label>Matter Id</label>
				                    		</div>
				                    	</div>
				                      
				                    </div>

				                    <div class="form-group">
				                      	<div class="row">
				                      		<div class="col-sm-6">
				                    			<div class="form-group">
							                      	{{matterForm.title.unique_number}}
							                    </div>
							                </div>
							                <div class="col-sm-6">
				                    			<div class="form-group">
							                      	{{matterForm.title.matter_id}}
							                    </div>
							                </div>
							            </div>
							        </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <span>Tax Search (TX) : </span> {{matterForm.title.text_search?"Yes":"No"}}
				                            </label>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                            <!--   <input type="checkbox" name="certificate_of_occupancy" ng-model="matterForm.title.certificate_of_occupancy"> -->
				                              <span>Certificate of Occupancy (CO): </span> {{matterForm.title.certificate_of_occupancy?"Yes":"No"}}
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                             <!--  <input type="checkbox" name="emergency_repair" ng-model="matterForm.title.emergency_repair"> -->
				                              <span>Emergency Repair (ER): </span> {{matterForm.title.emergency_repair?"Yes":"No"}}
				                            </label>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                             <!--  <input type="checkbox" name="fire_department" ng-model="matterForm.title.fire_department"> -->
				                              <span>Fire Department (FE): </span> {{matterForm.title.fire_department?"Yes":"No"}}
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>
				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                             <!--  <input type="checkbox" name="housing_and_building" ng-model="matterForm.title.housing_and_building"> -->
				                              <span>Housing and Building (HB): </span> {{matterForm.title.housing_and_building?"Yes":"No"}}
				                            </label>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                            <!--   <input type="checkbox" name="highway_department" ng-model="matterForm.title.highway_department"> -->
				                              <span>Highway Department Search (HI): </span> {{matterForm.title.highway_department?"Yes":"No"}}
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                             <!--  <input type="checkbox" name="street_report" ng-model="matterForm.title.street_report"> -->
				                              <span>Street Report (ST): </span> {{matterForm.title.street_report?"Yes":"No"}}
				                            </label>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <!-- <input type="checkbox" name="bankruptcy" ng-model="matterForm.title.bankruptcy"> -->
				                              <span>Bankruptcy (BK): </span> {{matterForm.title.bankruptcy?"Yes":"No"}}
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                             <!--  <input type="checkbox" name="patriot_search" ng-model="matterForm.title.patriot_search"> -->
				                              <span>Patriot Search (PN): </span> {{matterForm.title.patriot_search?"Yes":"No"}}
				                            </label>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-12">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <!-- <input type="checkbox" name="full_search_40yrs" ng-model="matterForm.title.full_search_40yrs"> -->
				                              <span>Full Search (40 Years): </span> {{matterForm.title.full_search_40yrs?"Yes":"No"}}
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-12">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                            <!--   <input type="checkbox" name="attorney_search_10yrs" ng-model="matterForm.title.attorney_search_10yrs"> -->
				                              <span>Attorney Search (10 Years): </span> {{matterForm.title.attorney_search_10yrs?"Yes":"No"}}
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-12">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <!-- <input type="checkbox" name="reissue_search" ng-model="matterForm.title.reissue_search"> -->
				                              <span>Reissue Search (from the last deed recorded as of record): </span> {{matterForm.title.reissue_search?"Yes":"No"}}
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-12">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <!-- <input type="checkbox" name="coop_lien_search" ng-model="matterForm.title.coop_lien_search"> -->
				                              <span>Coop Search/Lien Search (40 Year Search against the building): </span> {{matterForm.title.coop_lien_search?"Yes":"No"}}
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                </div>
				                <div class="col-sm-4">
				                    <div class="form-group">
				                      <h3>Fees & Taxes</h3>
				                    </div>
				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                          	<label>purchase Policy Fee : </label>{{matterForm.fees_and_taxes.purchase_policy_fee}}
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                          	<label>Purchase Policy Fee : </label>{{matterForm.fees_and_taxes.purchase_policy_b_fee}}
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                          	<label>Homestead Tax : </label>{{matterForm.fees_and_taxes.homestead_tax}}
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                          	<label>Loan Origination Fee : </label>{{matterForm.fees_and_taxes.loan_origination_fee}}
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                          	<label>Maintenance Fees : </label>{{matterForm.fees_and_taxes.maintenance_fees}}
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label>Legal Fees : </label>{{matterForm.fees_and_taxes.legal_fees}}
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <h3>Notes</h3>
				                    </div>

				                    <div class="form-group">
				                      	<div class="row">
				                      		<div class="col-sm-12">
							                    <div class="form-group" ng-repeat = "note in matterForm.notes track by $index">
							                      {{note.text}}
							                    </div>
							                </div>
							            </div>
							        </div>
				                    <div class="form-group">
				                     <!--  <button type="submit" class="btn btn-primary">Next &nbsp<i class="fa  fa-long-arrow-right"></i></button> -->
				                    </div>
				                </div>
			                </div>
			            </form>
			        </div>

		            <div class="form-group" ng-if="showTab=='parties'">
		            	<br>
		              <form name="parties_form" ng-submit="partiesFormSubmit(parties_form)" novalidate>
		                <div class="row">
		               
		                  <div class="col-sm-2">

		                    <div class="form-group">
		                      <h4>Seller<!-- <spna ng-click="addSeller();">+</spna> --></h4>
		                    </div>

		                    <div style="margin-bottom:0px;" class="form-group" ng-repeat="(i, seler) in partiesForm.sellers track by $index">

		                    	<span getcontactname="partiesForm.sellers[i]"></span>
		                    </div>
		                    <div class="form-group">
		                      <h4>Agent <!-- <spna ng-click="addSellerAgent();">+</spna> --></h4>
		                    </div>
		                    <div style="margin-bottom:0px;" class="form-group" ng-repeat="(i,seller_agent) in partiesForm.sellers_agent track by $index">
		                    	<span getcontactname="partiesForm.sellers_agent[i]"></span>
		                    </div>
		                    <div class="form-group">
		                      <h4>Attorney <!-- <spna ng-click="addSellerAttorney();">+</spna> --></h4>
		                    </div>
		                    <div style="margin-bottom:0px;" class="form-group" ng-repeat="(i,seller_attorney) in partiesForm.sellers_attorney track by $index">
		                    	<span getcontactname="partiesForm.sellers_attorney[i]"></span>
		                    </div>
		                  </div>

		                  <div class="col-sm-2">
		                    <div class="form-group">
		                      <h4>Buyer<!-- <spna ng-click="addBuyers();">+</spna> --></h4>
		                    </div>
		                    <div style="margin-bottom:0px;" class="form-group" ng-repeat="(i,buyer) in partiesForm.buyers track by $index">
		                    	<span getcontactname="partiesForm.buyers[i]"></span>
		                    </div>
		                    <div class="form-group">
		                      <h4>Agent <!-- <spna ng-click="addBuyersAgent();">+</spna> --></h4>
		                    </div>
		                    <div style="margin-bottom:0px;" class="form-group" ng-repeat="(i, buyer_agent) in partiesForm.buyers_agent track by $index">
		                    	<span getcontactname="partiesForm.buyers_agent[i]"></span>
		                    </div>
		                    <div class="form-group">
		                      <h4>Attorney <!-- <spna ng-click="addBuyersAttorney();">+</spna> --></h4>
		                    </div>
		                    <div style="margin-bottom:0px;" class="form-group" ng-repeat="buyers_attorney in partiesForm.buyers_attorney track by $index">
		                    	<span getcontactname="partiesForm.buyers_attorney[$index]"></span>
		                    </div>

		                  </div>

		                  <div class="col-sm-2">
		                    <div class="form-group">
		                      <h4>Lender</h4>
		                    </div>
		                    <div class="form-group">
		                    	<span getcontactname="partiesForm.lender"></span>
		                    </div>
		                    <div class="form-group">
		                      <h4>Attorney</h4>
		                    </div>
		                    <div class="form-group">
		                    	<span getcontactname="partiesForm.lender_attorney"></span>
		                    </div>
		                    <div class="form-group">
		                      <h4>Loan Officer</h4>
		                    </div>
		                    <div class="form-group">
		                    	<span getcontactname="partiesForm.loan_officer"></span>
		                    </div>
		                  </div>

		                  <div class="col-sm-2">
		                    <div class="form-group">
		                      <h4>Surveyor</h4>
		                    </div>
		                    <div class="form-group">
		                    	<span getcontactname="partiesForm.surveyor"></span>
		                    </div>
		                    <div class="form-group">
		                      <h4>Building Inspector</h4>
		                    </div>
		                    <div class="form-group">
		                    	<span getcontactname="partiesForm.past_inspector"></span>
		                    </div>
		                    <div class="form-group">
		                      <h4>Past Inspector</h4>
		                    </div>
		                    <div class="form-group">
		                    	<span getcontactname="partiesForm.past_inspector"></span>
		                    </div>
		                    <!-- <div class="form-group">
		                        <button type="button" ng-click="isAdditionalFields=true">+</button>
		                        <div ng-if="isAdditionalFields">
		                            <ul>
		                              <li><label ng-click="isAdditionalFields=false;addAitionalFiel('Surveyors');">Surveyors</label></li>
		                              <li><label ng-click="isAdditionalFields=false;addAitionalFiel('FedEx Account Number');">FedEx Account Number</label></li>
		                              <li><label ng-click="isAdditionalFields=false;addAitionalFiel('Pest Inspector');">Pest Inspector</label></li>
		                              <li><label ng-click="isAdditionalFields=false;addAitionalFiel('Building Inspector');">Building Inspector</label></li>
		                              <li><label ng-click="isAdditionalFields=false;addAitionalFiel('Appraiser');">Appraiser</label></li>
		                            </ul>
		                        </div>
		                    </div> -->

		                  </div>
		                  <div class="col-sm-3">
		                    <div class="form-group">
		                      <h4>Title Company</h4>
		                    </div>
		                    <div class="form-group">
		                    	<span getcontactname="partiesForm.title_company"></span>
		                    </div>
		                    <div class="form-group">
		                      <h4>Abstract Search</h4>
		                    </div>
		                    <div class="form-group">
		                    	<span getcontactname="partiesForm.abstract_search"></span>
		                    </div>
		                    <div class="form-group">
		                      <h4>Under Writer</h4>
		                    </div>
		                    <div class="form-group">
		                    	<span getcontactname="partiesForm.under_writer"></span>
		                    </div>
		                    <div class="form-group">
		                      <h4>Closer</h4>
		                    </div>
		                    <div class="form-group">
		                    	<span getcontactname="partiesForm.closer"></span>
		                    </div>
		                    <div class="form-group">
		                      <h4>Recording Office</h4>
		                    </div>
		                    <div class="form-group">
		                    <span getcontactname="partiesForm.recording_office"></span>
		                    </div>
		                    <div class="form-group">
		                     <!--  <button type="button" class="btn btn-primary" ng-click="openTab('matter')"><i class="fa  fa-long-arrow-left"></i> Previous</button>
		                      <button type="submit" class="btn btn-primary">Next <i class="fa  fa-long-arrow-right"></i></button> -->
		                    </div>
		                  </div>
		                  
		                </div>
		              </form>
		            </div>

		            <div class="form-group" ng-if="showTab=='activity'">
		            <br>
		              <div class="row">
		              	<!-- <div class="col-sm-1">
		              		 <a href="javascript:;" style="cursor:pointer" class="btn btn-default" data-toggle="modal" data-target="#modal_basic">
		                    	+
		                    </a>
		              	</div> -->
		              	<div class="col-sm-2">
		              		<div class="form-group">
				              	<select ng-select class="form-control" ng-model="sortActivity">
				              		<option value="">Sort By</option>
				              		<option value="-date">Date</option>
				              		<option value="time">Time</option>
				              		<option value="user">User</option>
				              	</select>
				            </div>
		              	</div>
		              </div>
		              <br>
		              <div class="row">
		              	<div class="col-sm-6 left-colum">
		              		<table class="table activity-tab-hover" ng-if="activity.length>0" ng-init="setRemarkShow(0,true);">
				                <tr style="cursor:pointer;" ng-repeat="a in activity | orderBy:sortActivity:true" ng-mouseover="setRemarkShow($index,true);" onclick="$('.active-activity').removeClass('active-activity');$(this).addClass('active-activity');">
				                  <td><img src="/assets/images/users/User_Avatar_Gray.png" userimage="a.user" style="border-radius:50%" height="30px" width="30px" alt="{{a.user.name.firstname}} {{a.user.name.lastname}}"/><label username="a.user"></label></td>
				                  <td>{{a.date}}</td>
				                  <td>{{a.time}}</td>
				                  <td><span>{{a.activity}}</span></td>
				                  <!-- <td>
				                    <a ng-click="editActivity(a, $index);" href="javascript:;" style="cursor:pointer" data-toggle="modal" data-target="#modal_basic_edit" hovereffectactivity><i class="fa  fa-edit" style="cursor:pointer"></i></a>
				                    <a ng-click="deleteActivity($index);" href="javascript:;" style="cursor:pointer" hovereffectactivity><i class="fa fa-times" style="cursor:pointer"></i></a>
				                  </td> -->
				                </tr>
				            </table>
		              	</div>
		              	<div class="col-sm-6 rgt-colum" customscroll style="max-height:500px; background-color:#ffffff;" ng-if="remarkShow">
		              		<div class="row">
		              			<!-- <div class="col-sm-1">
		              				<a href="javascript:;" style="cursor:pointer" class="btn btn-default" data-toggle="modal" data-target="#modal_new_note">
				                    	+
				                    </a>
		              			</div> -->
		              			<div class="col-sm-11">

		              				<p class="ofc-remarks">Office Remarks
                                    <p class="brder-lft"></p>
		              				</p>
		              			</div>
		              		</div>
		              		<div class="row padd" ng-repeat="remark in remarkShow track by $index">
		              			<div class="col-sm-1">
		              				<img src="/assets/images/users/User_Avatar_Gray.png" userimage="remark.user" style="border-radius:50%" height="30px" width="30px"/><br><label username="remark.user"></label>
		              			</div>
		              			<div class="col-sm-11" onclick="$('.editordiv').css('display','none');$('.textdiv').css('display','block');$(this).find('.editordiv').css('display','block').focus();$(this).find('.textdiv').css('display','none');">
		              				<div focusout style="display:none" text-angular class="editordiv" ng-model="remark.note" name="demo-editor{{$index}}" ta-text-editor-class="border-around" ta-html-editor-class="border-around"></div>
		              				<div class="textdiv rgt-colum1" dynamic="remark.note"></div>
		              			</div>
		              			<!-- <div dynamic="remark.note" ng-model="remark.note" tinymce class="col-sm-11 editablenote"></div> -->
		              		</div>
		              	</div>
		              </div>
		              <div class="form-group" style="float:right">
		               <!--  <button type="button" class="btn btn-primary" ng-click="openTab('parties')"><i class="fa  fa-long-arrow-left"></i>Previous</button>
		                <button type="submit" ng-click="openTab('documents')" class="btn btn-primary">Next <i class="fa  fa-long-arrow-right"></i></button> -->
		              </div>
		            </div>

		            <div class="form-group" ng-if="showTab=='documents'">
		              <br>
		              <div class="row">
		              	<div class="col-sm-1">
		              		<a href="javascript:;" style="cursor:pointer" class="btn btn-default" data-toggle="modal" data-target="#modal_document">
		                    	+
		                    </a>
		                    <a href="javascript:;" class="fa fa-2x fa-download" ng-click="downloadDocuments()"></a>
		              	</div>
		              	<div class="col-sm-2">
		              		<div class="form-group">
				              	<select ng-select class="form-control" ng-model="sortDocument">
				              		<option value="">Sort By</option>
				              		<option value="user">User</option>
				              		<option value="name">Document Type</option>
				              		<option value="notes">Notes</option>
				              	</select>
				            </div>
		              	</div>
		              </div>
		              <br>
		              <table class="table">
		                <tr ng-repeat="d in documents | orderBy:sortDocument:reverse">
		                  <td>
		                      <div class="form-group">
		                      	<!-- <input type="checkbox" name="is_checked" ng-model="d.is_checked"> -->
		                      	<a href="/documents/{{d.document}}" target="_blank" class="fa fa-download"></a>
		                      </div>
		                  </td>
		                  <td>{{getFileExtension(d.document)}}</td>
		                  <td>{{d.name}}</td>  
		                  <td>{{d.notes}}</td>
		                  <td>
		                  	<a ng-click="editDocument(d, $index);" href="javascript:;" style="cursor:pointer;	visibility: hidden;" data-toggle="modal" data-target="#modal_document_edit" hovereffectactivity><i class="fa  fa-edit" style="cursor:pointer"></i></a>
				            <a ng-click="deleteDocument($index);" href="javascript:;" style="cursor:pointer;	visibility: hidden;" hovereffectactivity><i class="fa fa-times" style="cursor:pointer"></i></a>
		                  </td>
		                </tr>
		              </table>
		              <div class="form-group" style="float:right">
		                <!-- <button type="button" class="btn btn-primary" ng-click="openTab('activity')"><i class="fa fa-long-arrow-left"></i> Previous</button> -->
		              </div>
		            </div>
				</div>
				 <button type="button" style="display:none" class="btn btn-success" id="updatematterbutton" ng-click="updateMatter(true)">Save Matter</button>
			    <div ng-if="isEditMatter" class="panel-body tab-content page-scroll-contant-matter-view" customscroll>
			    	
			    	<div class="form-group" ng-if="showTab=='matter'">
			    		<br>
			            <form name="matter_form" ng-submit="matterFormSubmit(matter_form)" novalidate>
			                <div class="row">
			                  	<div class="col-sm-4">

				                    <div class="form-group">
				                      <h3>Property</h3>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                      		<div class="col-sm-12">
					                      		<div class="form-group">
					                      			<input type="text" class="form-control" ng-model="matterForm.property.matter_name" placeholder="Matter Name*" name="matter_name" required>
					                      			<span class="help-block form-error" ng-if="matter_form.matter_name.$error.required">Matter name required*.</span>
					                      		</div>
					                      </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <select ng-select name="sales_type" required class="form-control" ng-model="matterForm.property.sales_type">
				                              <option value="">Matter Type</option>
				                              <option value="Purchase">Purchase</option>
				                              <option value="Sale">Sale</option>
				                              <option value="Title Only">Title Only</option>
				                              <option value="Bank and title">Bank and title</option>
				                              <option value="Bank Only">Bank Only</option>
				                            </select>
				                            <span class="help-block form-error" ng-if="matter_form.sales_type.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <select ng-select name="property_type" required class="form-control" ng-model="matterForm.property.property_type">
				                              <option value="">Property Type</option>
				                              <option value="Residential">Residential</option>
				                              <option value="Commercial">Commercial</option>
				                            </select>
				                            {{}}
				                            <span class="help-block form-error" ng-if="matter_form.property_type.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                          <!-- <div class="form-group">
				                            <select ng-if="matterForm.property.property_type=='Residential'" ng-select name="property_type" required class="form-control" ng-model="matterForm.property.property_type_subtype">
				                              <option value="1 Family House">1 Family House</option>
				                              <option value="2 Family House">2 Family House</option>
				                              <option value="3 Family House">3 Family House</option>
				                              <option value="4 Family House">4 Family House</option>
				                              <option value="Condo Apartment Family House">Condo Apartment</option>
				                              <option value="Co-op Apartment">Co-op Apartment</option>
				                              <option value="Vacant Land">Vacant Land</option>
				                            </select>
				                            <select ng-if="matterForm.property.property_type=='Commercial'" ng-select name="property_type" required class="form-control" ng-model="matterForm.property.property_type_subtype">
				                              <option value="Multi Family House">Multi Family House</option>
				                            </select>
				                            <span class="help-block form-error" ng-if="matter_form.property_type.$error.required  && matter_form_submited">Required*.</span>
				                          </div> -->
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">

				                          	<select ng-if="matterForm.property.property_type=='Residential'" ng-select name="property_type" required class="form-control" ng-model="matterForm.property.property_type_subtype">
				                          		<option value="">Propery Details</option>
				                              <option value="1 Family House">1 Family House</option>
				                              <option value="2 Family House">2 Family House</option>
				                              <option value="3 Family House">3 Family House</option>
				                              <option value="4 Family House">4 Family House</option>
				                              <option value="Condo Apartment Family House">Condo Apartment</option>
				                              <option value="Co-op Apartment">Co-op Apartment</option>
				                              <option value="Vacant Land">Vacant Land</option>
				                            </select>
				                            <select ng-if="matterForm.property.property_type=='Commercial'" ng-select name="property_type" required class="form-control" ng-model="matterForm.property.property_type_subtype">
				                            	<option value="">Propery Details</option>
				                              <option value="Multi Family House">Multi Family House</option>
				                            </select>
				                            <span class="help-block form-error" ng-if="matter_form.property_type.$error.required  && matter_form_submited">Required*.</span>

				                            <!-- <select ng-select name="house_type" required class="form-control" ng-model="matterForm.property.house_type">
				                              <option value="">House Type</option>
				                              <option value="Family House">Family House</option>
				                              <option value="Other">Other</option>
				                            </select>
				                            <span class="help-block form-error" ng-if="matter_form.house_type.$error.required  && matter_form_submited">Required*.</span> -->
				                          </div>
				                        </div>
				                        <div class="col-sm-6" ng-if="matterForm.property.property_type_subtype == '1 Family House' || matterForm.property.property_type_subtype == '2 Family House' || matterForm.property.property_type_subtype == '3 Family House' || matterForm.property.property_type_subtype == '4 Family House'">
				                          <div class="form-group">
				                            <select ng-select name="no_of_floors" required class="form-control" ng-model="matterForm.property.no_of_floors">
				                              <option value=0>No. Of Floors</option>
				                              <option value=1>1</option>
				                              <option value=2>2</option>
				                              <option value=3>3</option>
				                              <option value=4>4</option>
				                              <option value=5>5</option>
				                              <option value=6>6</option>
				                              <option value=7>7</option>
				                              <option value=8>8</option>
				                              <option></option>
				                            </select>
				                            <span class="help-block form-error" ng-if="matter_form.no_of_floors.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <select ng-select name="no_of_buyers" ng-change="setBuyersLength()" required class="form-control" ng-model="matterForm.property.no_of_buyers">
				                              <option value=0>No. Of Buyers</option>
				                              <option value=1>1</option>
				                              <option value=2>2</option>
				                              <option value=3>3</option>
				                              <option value=4>4</option>
				                              <option value=5>5</option>
				                            </select>
				                            <span class="help-block form-error" ng-if="matter_form.no_of_buyers.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <select ng-select name="no_of_salers" ng-change="setSellersLength()" required class="form-control" ng-model="matterForm.property.no_of_salers">
				                              <option value=0>No. Of Sellers</option>
				                              <option value=1>1</option>
				                              <option value=2>2</option>
				                              <option value=3>3</option>
				                              <option value=4>4</option>
				                              <option value=5>5</option>
				                            </select>
				                            <span class="help-block form-error" ng-if="matter_form.no_of_salers.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <label class="ui-checkbox">
				                        <input type="checkbox" name="has_tenants" ng-model="matterForm.property.has_tenants">
				                        <span><b>Has Tenants</b></span>
				                      </label>
				                    </div>

				                    <div class="form-group">
				                      <div ng-repeat="address in matterForm.property.addreses track by $index">

				                        <div style="padding-left:10px">
                                            <a href="javascript:;" data-toggle="modal" data-target="#modal_addressedit{{$index}}">
                                                <label for="exampleInputEmail1">Property Address {{$index+1}}</label>
                                            </a>&nbsp<i style="cursor:pointer" ng-if="$index>0" ng-click="removeAddress($index)">x</i>
                                        </div>
                                        <div class="modal" id="modal_addressedit{{$index}}" tabindex="-1" role="dialog" aria-labelledby="defModalHead" aria-hidden="true">
                                            <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                                                    <h4 class="modal-title" id="defModalHead">Property Address {{$index+1}} Detail</h4>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>House Number</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Street Number" data-ng-model="address.housenumber">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Lot</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Lot" data-ng-model="address.lot">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                     <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Block</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Block" data-ng-model="address.block">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                     <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Section</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Section" data-ng-model="address.section">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Building</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Building" data-ng-model="address.building">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Building Class</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Building Class" data-ng-model="address.buildingclass">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Building Type</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Building Type" data-ng-model="address.buildingtype">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Street Name AKA</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input type="text" class="form-control" data-ng-model="address.streetnameaka"  placeholder="Street Name also knows as">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Intersection Street 1</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Intersection Street 1" data-ng-model="address.intersectionstreet1">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Intersection Street 2</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Intersection Street 2" data-ng-model="address.intersectionstreet2">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Country</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Country" data-ng-model="address.country">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>District</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="District" data-ng-model="address.district">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>District Code</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="District Code" data-ng-model="address.districtcode">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Municipility</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Municipility" data-ng-model="address.municipility">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Town</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Town" data-ng-model="address.town">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Sub Division</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Sub Division" data-ng-model="address.subdivision">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>Neighborhood</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="Neighborhood" data-ng-model="address.neighborhood">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                            <label>School District</label>
                                                        </div>
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <input  type="text" class="form-control" placeholder="School District" data-ng-model="address.schooldistrict">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>

                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-default" ng-click="saveCompanyForm()" data-dismiss="modal">Save</button>
                                                    <button type="button" class="btn btn-default" ng-click="cancleCompanyForm()" data-dismiss="modal">Close</button>
                                                </div>
                                            </div>
                                            </div>
                                        </div>

				                        <div class="form-group">
					                      	<div class="row">
					                      		<div class="col-sm-3">
							                        <div class="form-group">
							                          <ng-form name="addresLine1Form1">
							                            <input type="text" class="form-control" name="homenumber"  placeholder="House Number*" ng-pattern="/^\d+$/" ng-model="address.homenumber" required>
							                            <span class="help-block form-error" ng-if="addresLine1Form1.homenumber.$error.pattern">Should be in number.</span>
							                            <span class="help-block form-error" ng-if="addresLine1Form1.homenumber.$error.required && matter_form_submited">House number required.</span>
							                         </ng-form>
							                        </div>
							                	</div>

							                	<div class="col-sm-6">
							                        <div class="form-group">
							                          <ng-form name="addresLine1Form">
							                            <input type="text" class="form-control" name="streetname"  placeholder="Street Name*"data-ng-model="address.streetname" required>
							                            <span class="help-block form-error" ng-if="addresLine1Form.streetname.$error.required  && matter_form_submited">Street name required.</span>
							                         </ng-form>
							                        </div>
							                	</div>

							                	<div class="col-sm-3">
							                        <div class="form-group">
							                          <ng-form name="addresLine1Form">
							                            <input type="text" class="form-control" name="streetsuffix"  placeholder="Street Suffix*" data-ng-model="address.streetsuffix" required>
							                            <span class="help-block form-error" ng-if="addresLine1Form.streetsuffix.$error.required  && matter_form_submited">Street suffix required.</span>
							                         </ng-form>
							                        </div>
							                	</div>
							                </div>
							            </div>
				                      
				                        <div class="form-group">
				                           <div class="row">
				                             <div class="col-md-6">
				                                <ng-form name="addressCityForm">
				                                  <input  type="text" class="form-control" name="city" placeholder="City*" data-ng-trim='false'data-ng-model="address.city" required>
				                                  <span class="help-block form-error" ng-if="addressCityForm.city.$error.required  && matter_form_submited">Required*.</span> 
				                                </ng-form>          
				                               
				                              </div>
				                              <div class="col-md-3">
				                                  <ng-form name="addresStateForm">
				                                    <input  type="text" class="form-control" name="state" placeholder="State*" data-ng-trim='false' data-ng-model="address.state" required>
				                                    <span class="help-block form-error" ng-if="addresStateForm.state.$error.required  && matter_form_submited">State required.</span> 
				                                  </ng-form>                 
				                              </div>
				                              <div class="col-md-3">
				                                  <ng-form name="addresZipForm">
				                                    <input  type="text" class="form-control" name="zip" placeholder="Zip*" data-ng-model="address.zip" required>
				                                    <span class="help-block form-error" ng-if="addresZipForm.zip.$error.required  && matter_form_submited">Zip required.</span>
				                                    <span class="help-block form-error" ng-if="addresZipForm.zip.$error.pattern && matter_form_submited">Invalid zip.</span>
				                                  </ng-form>                      
				                              </div>
				                            </div>
				                          </div>
				                        </div>
				                        <div class="form-group">
				                          <button class="btn btn-default" type="button" ng-click="addAddress()">+</button>
				                        </div>
				                    </div>

			                	</div>


				                <div class="col-sm-4">
				                    <div class="form-group">
				                      <h3>Finance</h3>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Price*" name="price" required ng-model="matterForm.finances.price">
				                            <span class="help-block form-error" ng-if="matter_form.price.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <select ng-select name="finance_type" required class="form-control" ng-model="matterForm.finances.finance_type">
				                              <option value="">Cash or Mortgage</option>
				                              <option value="Cash">Cash</option>
				                              <option value="Cash & Hard Money (Private) Mortgage">Cash & Hard Money (Private) Mortgage</option>
				                              <option value="Mortgage">Mortgage</option>
				                            </select>
				                            <span class="help-block form-error" ng-if="matter_form.finance_type.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group" ng-if="matterForm.finances.finance_type != 'Cash'">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <select ng-select name="no_of_lenders" required class="form-control" ng-model="matterForm.finances.no_of_lenders" required>
				                              <option value=0>No Of Lenders</option>
				                              <option value=1>1</option>
				                              <option value=2>2</option>
				                              <option value=3>3</option>
				                              <option value=4>4</option>
				                              <option value=5>5</option>
				                            </select>
				                            <span class="help-block form-error" ng-if="(matter_form.no_of_lenders.$error.required  && matter_form_submited)">Required*.</span>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <select ng-select name="mortgage_type" required class="form-control" ng-model="matterForm.finances.mortgage_type">
				                              <option value="">Mortgage Years</option>
				                              <option value="1">1</option>
				                              <option value="2">2</option>
				                              <option value="3">3</option>
				                              <option value="4">4</option>
				                              <option value="5">5</option>
				                              <option value="6">6</option>
				                              <option value="7">7</option>
				                              <option value="8">8</option>
				                              <option value="9">9</option>
				                              <option value="10">10</option>
				                              <option value="11">11</option>
				                              <option value="12">12</option>
				                              <option value="13">13</option>
				                              <option value="14">14</option>
				                              <option value="15">15</option>
				                              <option value="16">16</option>
				                              <option value="17">17</option>
				                              <option value="18">18</option>
				                              <option value="19">19</option>
				                              <option value="20">20</option>
				                              <option value="21">21</option>
				                              <option value="22">22</option>
				                              <option value="23">23</option>
				                              <option value="24">24</option>
				                              <option value="25">25</option>
				                              <option value="26">26</option>
				                              <option value="27">27</option>
				                              <option value="28">28</option>
				                              <option value="29">29</option>
				                              <option value="30">30</option>
				                              <option value="31">31</option>
				                              <option value="32">32</option>
				                              <option value="33">33</option>
				                              <option value="34">34</option>
				                              <option value="35">35</option>
				                              <option value="36">36</option>
				                              <option value="37">37</option>
				                              <option value="38">38</option>
				                              <option value="39">39</option>
				                              <option value="40">40</option>
				                            </select>
				                            <span class="help-block form-error" ng-if="matter_form.mortgage_type.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Cash Total Amount*" name="cash_total_amount" required ng-model="matterForm.finances.cash_total_amount">
				                            <span class="help-block form-error" ng-if="matter_form.cash_total_amount.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Mortgage Total Amount*" name="mortgage_total_amount" required ng-model="matterForm.finances.mortgage_total_amount">
				                            <span class="help-block form-error" ng-if="matter_form.mortgage_total_amount.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Earnest Money*" name="earnest_money" required ng-model="matterForm.finances.earnest_money">
				                            <span class="help-block form-error" ng-if="matter_form.earnest_money.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div> 
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Advance Payment Amount*" name="advance_payment_amount" required ng-model="matterForm.finances.advance_payment_amount">
				                            <span class="help-block form-error" ng-if="matter_form.advance_payment_amount.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Mortgage Monthly Amount*" name="mortgage_monthly_amount" required ng-model="matterForm.finances.mortgage_monthly_amount">
				                            <span class="help-block form-error" ng-if="matter_form.mortgage_monthly_amount.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Mortgage B Amount*" name="mortgage_b_amount" required ng-model="matterForm.finances.mortgage_b_amount">
				                            <span class="help-block form-error" ng-if="matter_form.mortgage_b_amount.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Mortgage Policy Amount*" name="mortgage_policy_amount" required ng-model="matterForm.finances.mortgage_policy_amount">
				                            <span class="help-block form-error" ng-if="matter_form.mortgage_policy_amount.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Mortgage B Policy Amount*" name="mortgage_b_policy_amount" required ng-model="matterForm.finances.mortgage_b_policy_amount">
				                            <span class="help-block form-error" ng-if="matter_form.mortgage_b_policy_amount.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                      	<div class="col-sm-6">
				                      		<h3>Title No.</h3>
				                      	</div>
				                      	<div class="col-sm-6">
				                      		<h3>Matter Id.</h3>
				                      	</div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      	<div class="row">
				                      		<div class="col-sm-6">
				                    			<div class="form-group">
							                      	<input type="text" class="form-control" readonly="" style="background:white;color:black" placeholder="Matter Title" name="unique_number" required ng-model="matterForm.title.unique_number">
							                    </div>
							                </div>
							                <div class="col-sm-6">
				                    			<div class="form-group">
							                      	<input type="text" class="form-control" style="background:white;color:black" readonly="" placeholder="Matter Id" name="matter_id" required ng-model="matterForm.title.matter_id">
							                    </div>
							                </div>
							            </div>
							        </div>

				                   <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="text_search" ng-model="matterForm.title.text_search">
				                              <span>Tax Search (TX)</span>
				                            </label>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="certificate_of_occupancy" ng-model="matterForm.title.certificate_of_occupancy">
				                              <span>Certificate of Occupancy (CO)</span>
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="emergency_repair" ng-model="matterForm.title.emergency_repair">
				                              <span>Emergency Repair (ER)</span>
				                            </label>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="fire_department" ng-model="matterForm.title.fire_department">
				                              <span>Fire Department (FE)</span>
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="housing_and_building" ng-model="matterForm.title.housing_and_building">
				                              <span>Housing and Building (HB)</span>
				                            </label>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="highway_department" ng-model="matterForm.title.highway_department">
				                              <span>Highway Department Search (HI)</span>
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="street_report" ng-model="matterForm.title.street_report">
				                              <span>Street Report (ST)</span>
				                            </label>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="bankruptcy" ng-model="matterForm.title.bankruptcy">
				                              <span>Bankruptcy (BK)</span>
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="patriot_search" ng-model="matterForm.title.patriot_search">
				                              <span>Patriot Search (PN)</span>
				                            </label>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-12">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="full_search_40yrs" ng-model="matterForm.title.full_search_40yrs">
				                              <span>Full Search (40 Years)</span>
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-12">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="attorney_search_10yrs" ng-model="matterForm.title.attorney_search_10yrs">
				                              <span>Attorney Search (10 Years)</span>
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-12">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="reissue_search" ng-model="matterForm.title.reissue_search">
				                              <span>Reissue Search (from the last deed recorded as of record)</span>
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-12">
				                          <div class="form-group">
				                            <label class="ui-checkbox">
				                              <input type="checkbox" name="coop_lien_search" ng-model="matterForm.title.coop_lien_search">
				                              <span>Coop Search/Lien Search (40 Year Search against the building)</span>
				                            </label>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                </div>
				                <div class="col-sm-4">
				                    <div class="form-group">
				                      <h3>Fees & Taxes</h3>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="purchase Policy Fee*" name="purchase_policy_fee" required ng-model="matterForm.fees_and_taxes.purchase_policy_fee">
				                            <span class="help-block form-error" ng-if="matter_form.purchase_policy_fee.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="purchase Policy Fee*" name="purchase_policy_b_fee" required ng-model="matterForm.fees_and_taxes.purchase_policy_b_fee">
				                            <span class="help-block form-error" ng-if="matter_form.purchase_policy_b_fee.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Homestead Tax*" name="homestead_tax" required ng-model="matterForm.fees_and_taxes.homestead_tax">
				                            <span class="help-block form-error" ng-if="matter_form.homestead_tax.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Loan Origination Fee*" name="loan_origination_fee" required ng-model="matterForm.fees_and_taxes.loan_origination_fee">
				                            <span class="help-block form-error" ng-if="matter_form.loan_origination_fee.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <div class="row">
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Maintenance Fees*" name="maintenance_fees" required ng-model="matterForm.fees_and_taxes.maintenance_fees">
				                            <span class="help-block form-error" ng-if="matter_form.maintenance_fees.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                        <div class="col-sm-6">
				                          <div class="form-group">
				                            <input type="text" class="form-control" placeholder="Legal Fees*" name="legal_fees" required ng-model="matterForm.fees_and_taxes.legal_fees">
				                            <span class="help-block form-error" ng-if="matter_form.legal_fees.$error.required  && matter_form_submited">Required*.</span>
				                          </div>
				                        </div>
				                      </div>
				                    </div>

				                    <div class="form-group">
				                      <h3>Notes</h3>
				                    </div>

				                    <div class="form-group">
				                      	<div class="row">
				                      		<div class="col-sm-12">
							                    <div class="form-group" ng-repeat = "note in matterForm.notes track by $index">
							                      <textarea class="form-control" name="notes" ng-model="note.text" placeholder="Note" rows="15"></textarea>
							                    </div>
							                </div>
							            </div>
							        </div>
				                   <!--  <div class="form-group">
				                      <button type="submit" class="btn btn-primary">Next &nbsp<i class="fa  fa-long-arrow-right"></i></button>
				                    </div> -->
				                </div>
			                </div>
			            </form>
			        </div>

		            <div class="form-group" ng-if="showTab=='parties'">
		            	<br>
		              <form name="parties_form" ng-submit="partiesFormSubmit(parties_form)" novalidate>
		                <div class="row">
		               
		                  <div class="col-sm-2">

		                    <div class="form-group">
		                      <h3>Seller<!-- <spna ng-click="addSeller();">+</spna> --></h3>
		                    </div>

		                    <div style="margin-bottom:0px;" class="form-group" ng-repeat="(i, seler) in partiesForm.sellers track by $index">
		                      <ng-form name="innerForm">
		                        <select   class="form-control" ng-select data-live-search="true" name="sellers" ng-model="partiesForm.sellers[i]" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="client in totalContacts['Client']" ng-selected="partiesForm.sellers[i] == client._id" value="{{client._id}}">{{client.displayname}}</option>
		                       </select>
		                       <!-- <select class="form-control" name="sellers"  ng-model="partiesForm.sellers[i]" required ng-options="opt._id as opt.name.firstname+' '+opt.name.lastname for opt in totalContacts">
		                       </select> -->
		                       <i class="fa  fa-close" ng-click="removeSeller(i)"></i>
		                        <span class="help-block form-error" ng-if="innerForm.sellers.$error.required && parties_form_submiter">Required*.</span>
		                      </ng-form>
		                    </div>
		                    <div class="form-group">
		                      <h3>Agent <!-- <spna ng-click="addSellerAgent();">+</spna> --></h3>
		                    </div>
		                    <div style="margin-bottom:0px;" class="form-group" ng-repeat="(i,seller_agent) in partiesForm.sellers_agent track by $index">
		                      <ng-form name="innerForm">
		                        <select ng-select data-live-search="true" class="form-control" name="agent" ng-model="partiesForm.sellers_agent[i]" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="agent in totalContacts['Real Estate Agent']" ng-selected="partiesForm.sellers_agent[i] == agent._id" value="{{agent._id}}">{{agent.displayname}}</option>
		                       </select>
		                        <i class="fa  fa-close" ng-click="removeSellerAgent($index)"></i>
		                        <span class="help-block form-error" ng-if="innerForm.agent.$error.required && parties_form_submiter">Required*.</span>
		                      </ng-form>
		                    </div>
		                    <div class="form-group">
		                      <h3>Attorney <!-- <spna ng-click="addSellerAttorney();">+</spna> --></h3>
		                    </div>
		                    <div style="margin-bottom:0px;" class="form-group" ng-repeat="(i,seller_attorney) in partiesForm.sellers_attorney track by $index">
		                      <ng-form name="innerForm">
		                        <select ng-select data-live-search="true" class="form-control" name="seller_attorney" ng-model="partiesForm.sellers_attorney[$index]" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="attor in totalContacts['Attorney']" ng-selected="partiesForm.sellers_attorney[i] == attor._id" value="{{attor._id}}">{{attor.displayname}}</option>
		                        </select>
		                        <i class="fa  fa-close" ng-click="removeSellerAttorney($index)"></i>
		                        <span class="help-block form-error" ng-if="innerForm.seller_attorney.$error.required && parties_form_submiter">Required*.</span>
		                      </ng-form>
		                    </div>
		                  </div>

		                  <div class="col-sm-2">
		                    <div class="form-group">
		                      <h3>Buyer<!-- <spna ng-click="addBuyers();">+</spna> --></h3>
		                    </div>
		                    <div style="margin-bottom:0px;" class="form-group" ng-repeat="(i,buyer) in partiesForm.buyers track by $index">
		                      <ng-form name="innerForm">
		                        <select ng-select data-live-search="true" class="form-control" name="buyers" ng-model="partiesForm.buyers[i]" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="client in totalContacts['Client']" ng-selected="partiesForm.buyers[i] == client._id" value="{{client._id}}">{{client.displayname}}</option>
		                       </select>
		                        <i class="fa  fa-close" ng-click="removeBuyer($index)"></i>
		                        <span class="help-block form-error" ng-if="innerForm.buyers.$error.required && parties_form_submiter">Required*.</span>
		                      </ng-form>
		                    </div>
		                    <div class="form-group">
		                      <h3>Agent <!-- <spna ng-click="addBuyersAgent();">+</spna> --></h3>
		                    </div>
		                    <div style="margin-bottom:0px;" class="form-group" ng-repeat="(i, buyer_agent) in partiesForm.buyers_agent track by $index">
		                      <ng-form name="innerForm">
		                        <select ng-select data-live-search="true" class="form-control" name="agent" ng-model="partiesForm.buyers_agent[i]" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="agent in totalContacts['Real Estate Agent']" ng-selected="partiesForm.buyers_agent[i] == agent._id" value="{{agent._id}}">{{agent.displayname}}</option>
		                       </select>
		                        <i class="fa  fa-close" ng-click="removeBuyersAgent($index)"></i>
		                        <span class="help-block form-error" ng-if="innerForm.agent.$error.required && parties_form_submiter">Required*.</span>
		                      </ng-form>
		                    </div>
		                    <div class="form-group">
		                      <h3>Attorney <!-- <spna ng-click="addBuyersAttorney();">+</spna> --></h3>
		                    </div>
		                    <div style="margin-bottom:0px;" class="form-group" ng-repeat="(i,buyers_attorney) in partiesForm.buyers_attorney track by $index">
		                      <ng-form>
		                        <select  ng-select data-live-search="true" class="form-control" name="buyers_attorney" ng-model="partiesForm.buyers_attorney[$index]" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="attor in totalContacts['Attorney']" ng-selected="partiesForm.buyers_attorney[i] == attor._id" value="{{attor._id}}">{{attor.displayname}}</option>
		                        </select>
		                        <i class="fa  fa-close" ng-click="removeBuyersAttorney($index)"></i>
		                        <span class="help-block form-error" ng-if="innerForm.buyers_attorney.$error.required && parties_form_submiter">Required*.</span>
		                      </ng-form>
		                    </div>

		                  </div>

		                  <div class="col-sm-2">
		                    <div class="form-group">
		                      <h3>Lender</h3>
		                    </div>
		                    <div class="form-group">
		                      <select ng-select data-live-search="true" class="form-control" name="lender" ng-model="partiesForm.lender" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="land in totalContacts['Lender']" ng-selected="partiesForm.lender == land._id" value="{{land._id}}">{{land.displayname}}</option>
		                      </select>
		                      <span class="help-block form-error" ng-if="parties_form.lender.$error.required && parties_form_submiter" required>Required*.</span>
		                    </div>
		                    <div class="form-group">
		                      <h3>Attorney</h3>
		                    </div>
		                    <div class="form-group">
		                      <select ng-select data-live-search="true" class="form-control" name="lender_attorney" ng-model="partiesForm.lender_attorney" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="attor in totalContacts['Attorney']" ng-selected="partiesForm.lender_attorney == attor._id" value="{{attor._id}}">{{attor.displayname}}</option>
		                      </select>
		                      <span class="help-block form-error" ng-if="parties_form.lender_attorney.$error.required && parties_form_submiter" required>Required*.</span>
		                    </div>
		                    <div class="form-group">
		                      <h3>Loan officer</h3>
		                    </div>
		                    <div class="form-group">
		                      <select ng-select data-live-search="true" class="form-control" name="loan_officer" ng-model="partiesForm.loan_officer" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="agent in totalContacts['Loan Officer']" ng-selected="partiesForm.loan_officer == agent._id" value="{{agent._id}}">{{agent.displayname}}</option>
		                       </select>
		                      <span class="help-block form-error" ng-if="parties_form.loan_officer.$error.required && parties_form_submiter" required>Required*.</span>
		                    </div>
		                  </div>

		                  <div class="col-sm-2">
		                    <div class="form-group">
		                      <h3>Surveyor</h3>
		                    </div>
		                    <div class="form-group">
		                      <select  ng-select data-live-search="true" class="form-control" name="surveyor" ng-model="partiesForm.surveyor" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="surv in totalContacts['Surveyor']" ng-selected="partiesForm.surveyor == surv._id" value="{{surv._id}}">{{surv.displayname}}</option>
		                       </select>
		                      <span class="help-block form-error" ng-if="parties_form.surveyor.$error.required && parties_form_submiter" required>Required*.</span>
		                    </div>
		                    <div class="form-group">
		                      <h3>Building Inspector</h3>
		                    </div>
		                    <div class="form-group">
		                      <select ng-select data-live-search="true" class="form-control" name="building_inspector" ng-model="partiesForm.building_inspector" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="b_ins in totalContacts['Building Inspector']" ng-selected="partiesForm.building_inspector == b_ins._id" value="{{b_ins._id}}">{{b_ins.displayname}}</option>
		                       </select>
		                      <span class="help-block form-error" ng-if="parties_form.building_inspector.$error.required && parties_form_submiter">Required*.</span>
		                    </div>
		                    <div class="form-group">
		                      <h3>Past Inspector</h3>
		                    </div>
		                    <div class="form-group">
		                      <select ng-select data-live-search="true" class="form-control" name="past_inspector" ng-model="partiesForm.past_inspector" required>
		                          <option value="">Select</option>
		                          <option ng-repeat="p_ins in totalContacts['Pest Inspector']" ng-selected="partiesForm.past_inspector == p_ins._id" value="{{p_ins._id}}">{{p_ins.displayname}}</option>
		                       </select>
		                      <span class="help-block form-error" ng-if="parties_form.past_inspector.$error.required && parties_form_submiter">Required*.</span>
		                    </div>
		                    <!-- <div ng-repeat="(i,additionalfield) in partiesForm.additionalfields track by $index" class="form-group">
		                      <ng-form name="additionalForm">
		                        <label>{{additionalfield.key}} <i class="fa  fa-close" ng-click="removeAdditionalField(i)"></i></label>

		                        <select class="form-control" name="aditional_value" ng-model="additionalfield.value" required>
		                          <option value="">--{{additionalfield.key}}--</option>
		                          <option ng-repeat="a_f in totalContacts" ng-selected="additionalfield.value == a_f._id" value="{{p_ins._id}}" ng-if="a_f.category_id.categorie==additionalfield.key">{{a_f.name.firstname + " " + a_f.name.lastname}}</option>
		                       </select>

		                        <input type="text" class="form-control" placeholder="{{additionalfield.key}}*" name="aditional_value" data-ng-model="additionalfield.value" required />
		                        <span class="help-block form-error" ng-if="additionalForm.aditional_value.$error.required  && parties_form_submiter">Please enter {{additionalfield.key}}.</span>
		                      </ng-form>
		                    </div> -->
		                  </div>
		                  <div class="col-sm-3">
		                    <div class="form-group">
		                      <h3>Title Company</h3>
		                    </div>
		                    <div class="form-group">
		                      <select ng-select data-live-search="true" class="form-control" name="title_company" ng-model="partiesForm.title_company" required>
		                          <option value="">Title Company</option>
		                          <option ng-repeat="t_c in totalContacts['Title Company']" ng-selected="partiesForm.title_company == t_c._id" value="{{t_c._id}}">{{t_c.displayname}}</option>
		                       </select>
		                      <span class="help-block form-error" ng-if="parties_form.title_company.$error.required && parties_form_submiter">Required*.</span>
		                    </div>
		                    <div class="form-group">
		                      <h3>Abstract Search</h3>
		                    </div>
		                    <div class="form-group">
		                      <select ng-select data-live-search="true" class="form-control" name="abstract_search" ng-model="partiesForm.abstract_search" required>
		                          <option value="">Abstract Search</option>
		                          <option ng-repeat="t_s in totalContacts['Abstract Search']" ng-selected="partiesForm.abstract_search == t_s._id" value="{{t_s._id}}">{{t_s.displayname}}</option>
		                       </select>
		                      <span class="help-block form-error" ng-if="parties_form.abstract_search.$error.required && parties_form_submiter">Required*.</span>
		                    </div>
		                    <div class="form-group">
		                      <h3>Under Writer</h3>
		                    </div>
		                    <div class="form-group">
		                      <select ng-select data-live-search="true" class="form-control" name="under_writer" ng-model="partiesForm.under_writer" required>
		                          <option value="">Under Writer</option>
		                          <option ng-repeat="u_w in totalContacts['Under Writer']" ng-selected="partiesForm.under_writer == u_w._id" value="{{u_w._id}}">{{u_w.displayname}}</option>
		                       </select>
		                      <span class="help-block form-error" ng-if="parties_form.under_writer.$error.required && parties_form_submiter">Required*.</span>
		                    </div>
		                    <div class="form-group">
		                      <h3>Closer</h3>
		                    </div>
		                    <div class="form-group">
		                      <select ng-select data-live-search="true" class="form-control" name="closer" ng-model="partiesForm.closer" required>
		                          <option value="">Closer</option>
		                          <option ng-repeat="c in totalContacts['Closer']" ng-selected="partiesForm.closer == c._id" value="{{c._id}}" >{{c.displayname}}</option>
		                       </select>
		                      <span class="help-block form-error" ng-if="parties_form.closer.$error.required && parties_form_submiter">Required*.</span>
		                    </div>
		                    <div class="form-group">
		                      <h3>Recording Office</h3>
		                    </div>
		                    <div class="form-group">
		                      <select ng-select data-live-search="true" class="form-control" name="recording_office" ng-model="partiesForm.recording_office" required>
		                          <option value="">Recording Office</option>
		                          <option ng-repeat="r_o in totalContacts['Recording Office']" ng-selected="partiesForm.recording_office == r_o._id" value="{{r_o._id}}">{{r_o.displayname}}</option>
		                       </select>
		                      <span class="help-block form-error" ng-if="parties_form.recording_office.$error.required && parties_form_submiter">Required*.</span>
		                    </div>

		                    <div class="form-group">
		                    <!--   <button type="button" class="btn btn-primary" ng-click="openTab('matter')"><i class="fa  fa-long-arrow-left"></i> Previous</button>
		                      <button type="submit" class="btn btn-primary">Next <i class="fa  fa-long-arrow-right"></i></button> -->
		                    </div>
		                  </div>
		                  
		                </div>
		              </form>
		            </div>

		            <div class="form-group" ng-if="showTab=='activity'">
		            <br>
		              <div class="row">
		              	<div class="col-sm-1">
		              		 <a href="javascript:;" style="cursor:pointer" class="btn btn-default" data-toggle="modal" data-target="#modal_basic">
		                    	+
		                    </a>
		              	</div>
		              	<div class="col-sm-2">
		              		<div class="form-group">
				              	<select ng-select class="form-control" ng-model="sortActivity">
				              		<option value="">Sort By</option>
				              		<option value="add_to_schedule">Schedule</option>
				              		<option value="-date">Date</option>
				              		<option value="time">Time</option>
				              		<option value="user">User</option>
				              		<option value="remark">Remark</option>
				              	</select>
				            </div>
		              	</div>
		              </div>
		              <br>
		              <div class="row">
		              	<div class="col-sm-6 left-colum">
		              		<table class="table activity-tab-hover" ng-if="activity.length>0" ng-init="setRemarkShow(0,true);">
				                <tr style="cursor:pointer;" ng-repeat="a in activity | orderBy:sortActivity:true" ng-mouseover="setRemarkShow($index,true);" onclick="$('.active-activity').removeClass('active-activity');$(this).addClass('active-activity');">
				                  <td><img src="/assets/images/users/User_Avatar_Gray.png" userimage="a.user" style="border-radius:50%" height="30px" width="30px" alt="{{a.user.name.firstname}} {{a.user.name.lastname}}"/><label username="a.user"></label></td>
				                  <td>{{a.date}}</td>
				                  <td>{{a.time}}</td>
				                  <td><span>{{a.activity}}</span></td>
				                  <td>
				                    <a ng-click="editActivity(a, $index);" href="javascript:;" style="cursor:pointer" data-toggle="modal" data-target="#modal_basic_edit" hovereffectactivity><i class="fa  fa-edit" style="cursor:pointer"></i></a>
				                    <a ng-click="deleteActivity($index);" href="javascript:;" style="cursor:pointer" hovereffectactivity><i class="fa fa-times" style="cursor:pointer"></i></a>
				                  </td>
				                </tr>
				            </table>
		              	</div>
		              	<div class="col-sm-6 rgt-colum" customscroll style="max-height:500px; background-color:#ffffff;" ng-if="remarkShow">
		              		<div class="row">
		              			<div class="col-sm-1">
		              				<a href="javascript:;" style="cursor:pointer" class="btn btn-default" data-toggle="modal" data-target="#modal_new_note">
				                    	+
				                    </a>
		              			</div>
		              			<div class="col-sm-11">

		              				<p class="ofc-remarks">Office Remarks
                                    <p class="brder-lft"></p>
		              				</p>
		              			</div>
		              		</div>
		              		<div class="row padd" ng-repeat="remark in remarkShow track by $index">
		              			<div class="col-sm-1">
		              				<img src="/assets/images/users/User_Avatar_Gray.png" userimage="remark.user" style="border-radius:50%" height="30px" width="30px"/><br><label username="remark.user"></label>
		              			</div>
		              			<div class="col-sm-11" onclick="$('.editordiv').css('display','none');$('.textdiv').css('display','block');$(this).find('.editordiv').css('display','block').focus();$(this).find('.textdiv').css('display','none');">
		              				<div focusout style="display:none" text-angular class="editordiv" ng-model="remark.note" name="demo-editor{{$index}}" ta-text-editor-class="border-around" ta-html-editor-class="border-around"></div>
		              				<div class="textdiv rgt-colum1" dynamic="remark.note"></div>
		              			</div>
		              			<!-- <div dynamic="remark.note" ng-model="remark.note" tinymce class="col-sm-11 editablenote"></div> -->
		              		</div>
		              	</div>
		              </div>
		              <div class="form-group" style="float:right">
		               <!--  <button type="button" class="btn btn-primary" ng-click="openTab('parties')"><i class="fa  fa-long-arrow-left"></i>Previous</button>
		                <button type="submit" ng-click="openTab('documents')" class="btn btn-primary">Next <i class="fa  fa-long-arrow-right"></i></button> -->
		              </div>
		            </div>

		            <div class="form-group" ng-if="showTab=='documents'">
		              <br>
		              <div class="row">
		              	<div class="col-sm-1">
		              		<a href="javascript:;" style="cursor:pointer" class="btn btn-default" data-toggle="modal" data-target="#modal_document">
		                    	+
		                    </a>
		                    <a href="javascript:;" class="fa fa-2x fa-download" ng-click="downloadDocuments()"></a>
		              	</div>
		              	<div class="col-sm-2">
		              		<div class="form-group">
				              	<select ng-select class="form-control" ng-model="sortDocument">
				              		<option value="">Sort By</option>
				              		<option value="user">User</option>
				              		<option value="name">Document Type</option>
				              		<option value="notes">Notes</option>
				              	</select>
				            </div>
		              	</div>
		              </div>
		              <br>
		              <table class="table">
		                <tr ng-repeat="d in documents | orderBy:sortDocument:reverse">
		                  <td>
		                      <div class="form-group">
		                      	<input type="checkbox" name="is_checked" ng-model="d.is_checked">
		                      </div>
		                  </td>
		                  <td>
		                  	{{getFileExtension(d.document)}}
		                  </td>
		                  <td>{{d.name}}</td>
		                  <td>{{d.notes}}</td>
		                  <td>
		                  	<a ng-click="editDocument(d, $index);" href="javascript:;" style="cursor:pointer;	visibility: hidden;" data-toggle="modal" data-target="#modal_document_edit" hovereffectactivity><i class="fa  fa-edit" style="cursor:pointer"></i></a>
				            <a ng-click="deleteDocument($index);" href="javascript:;" style="cursor:pointer;	visibility: hidden;" hovereffectactivity><i class="fa fa-times" style="cursor:pointer"></i></a>
		                  </td>
		                </tr>
		              </table>
		              <div class="form-group" style="float:right">
		               <!--  <button type="button" class="btn btn-primary" ng-click="openTab('activity')"><i class="fa fa-long-arrow-left"></i> Previous</button> -->
		                <button type="button" style="display:none" class="btn btn-success" id="updatematterbutton" ng-click="updateMatter(true)">Save Matter</button>
		              </div>
		            </div>
				</div>
            </div>
        </div>
    </div>

    <!-- END TABS -->          


    <div class="modal" id="modal_basic" tabindex="-1" role="dialog" aria-labelledby="defModalHead" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close close-activity-model" ng-click="resetActivity()" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title" id="defModalHead">Activity</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                    	<div class="col-sm-4">
                    		<div class="input-group">
                                <input datepicker placeholder="Date" type="text" id="activity_date" class="form-control" ng-model="new_activity.date"/>
                                <span class="input-group-addon add-on" onclick="$(this).parent().find('input').trigger('focus');"><span class="glyphicon glyphicon-calendar"></span></span>
                            </div>
                    	</div>
                    	<div class="col-sm-4">
                    		<div class="input-group bootstrap-timepicker" style="z-index:9999;">
                                <input type="text" placeholder="Time" ng-model="new_activity.time" class="form-control" timepicker/>
                                <span class="input-group-addon" onclick="$(this).parent().find('input').trigger('focus');"><span class="glyphicon glyphicon-time"></span></span>
                            </div>
                    	</div>
                    	<div class="col-sm-4">
                    		<label class="check"><input id="activity_schedule" type="checkbox" class="icheckbox" ng-model="new_activity.add_to_schedule" icheck/> Add To Schedule</label>
                    	</div>
                    </div>
                    <br><br>
                    <div class="row">
                    	<div class="col-sm-6">
                    		<div class="form-group">
                    			<select class="form-control" id="activity_type" ng-model="new_activity.activity">
                    				<option value="">Select</option>
                    				<option value="Abstract of Title Ordered">Abstract of Title Ordered</option>
                    				<option value="Abstract of Title Received">Abstract of Title Received</option>
                    				<option value="Survey Ordered">Survey Ordered</option>
                    				<option value="Survey Received">Survey Received</option>
                    				<option value="Contract Requested">Contract Requested</option>
                    				<option value="Contract Received">Contract Received</option>
                    				<option value="Contract Sent (Tracking Number)">Contract Sent (Tracking Number)</option>
                    				<option value="Contract Delivered">Contract Delivered</option>
                    				<option value="Mortgage Applied">Mortgage Applied</option>
                    				<option value="Mortgage Approved">Mortgage Approved</option>
                    				<option value="Mortgage Denied">Mortgage Denied</option>
                    				<option value="Mortgage Reapplied">Mortgage Reapplied</option>
                    				<option value="Offer Submitted">Offer Submitted</option>
                    				<option value="Buyer Signed the Contract">Buyer Signed the Contract</option>
                    				<option value="Violations Found">Violations Found</option>
                    				<option value="Violations Removal Started">Violations Removal Started</option>
                    				<option value="Violations Removed">Violations Removed</option>
                    				<option value="Title Clearance Started">Title Clearance Started</option>
                    				<option value="Violations Removed">Violations Removed</option>
                    				<option value="Title Cleared">Title Cleared</option>
                    				<option value="Closing Date Scheduled">Closing Date Scheduled</option>
                    				<option value="All Parties Informed">All Parties Informed</option>
                    				<option value="Cancellation of Purchase Agreement">Cancellation of Purchase Agreement</option>
                    				<option value="Certificate of Title Ordered">Certificate of Title Ordered</option>
                    				<option value="Contingency">Contingency</option>
                    				<option value="Pending Special Assessment">Pending Special Assessment</option>
                    				<option value="Deed Submitted to Clerk Office">Deed Submitted to Clerk Office</option>
                    				<option value="Deed received from Clerk Office">Deed received from Clerk Office</option>
                    				<option value="Deed sent to Buyer">Deed sent to Buyer</option>
                    				<option value="Sent Email to Client">Sent Email to Client</option>
                    				<option value="Sent Email to Attorney">Sent Email to Attorney</option>
                    				<option value="Sent Email to Bank">Sent Email to Bank</option>
                    				<option value="Received Email from Buyer">Received Email from Buyer</option>
                    				<option value="Received Email from Broker">Received Email from Broker</option>
                    				<option value="Buyer Called">Buyer Called</option>
                    				<option value="Attorney Called">Attorney Called</option>
                    				<option value="Called Buyer">Called Buyer</option>
                    				<option value="Called Attorney">Called Attorney</option>
                    				<option value="Faxed Attorney">Faxed Attorney</option>
                    				<option value="Attorney Faxed">Attorney Faxed</option>
                    				<option value="Custom Entry">Custom Entry</option>
                    			</select>
                    		</div>
                    	</div>
                    </div>
                    <br>
                    <div class="row" ng-repeat="remark in new_activity.remark">
                    	<div class="col-sm-12">
								<div text-angular ng-model="remark.note" name="demo-editor" ta-text-editor-class="border-around" ta-html-editor-class="border-around"></div>
                    		<!-- <div class="container lighter">
								<div text-angular ng-model="remark.note" name="demo-editor" ta-text-editor-class="border-around container" ta-html-editor-class="border-around"></div>
							</div> -->
                    	</div>
                    </div>
                </div>
                <div class="modal-footer">
                	<button type="button" class="btn btn-default" ng-click="saveActivity(false)">Save</button>
                </div>
            </div>
        </div>
    </div>


    <div class="modal" id="modal_basic_edit" tabindex="-1" role="dialog" aria-labelledby="defModalHead" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close close-activity-model-edit" data-dismiss="modal" ng-click="resetActivity()"><span aria-hidden="true">&times;</span><span class="sr-only" id="close-edited-activity">Close</span></button>
                    <h4 class="modal-title" id="defModalHead">Activity</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                    	<div class="col-sm-4">
                    		<div class="input-group">
                               <input datepicker placeholder="Date" type="text" id="activity_date" class="form-control" ng-model="new_activity.date"/>
                                <span class="input-group-addon add-on" onclick="$(this).parent().find('input').trigger('focus');"><span class="glyphicon glyphicon-calendar"></span></span>
                            </div>
                    	</div>
                    	<div class="col-sm-4">
                    		<div class="input-group bootstrap-timepicker">
                                <input type="text" placeholder="Time" id="activity_time" ng-model="new_activity.time" class="form-control" timepicker/>
                                <span class="input-group-addon" onclick="$(this).parent().find('input').trigger('focus');"><span class="glyphicon glyphicon-time"></span></span>
                            </div>
                    	</div>
                    	<div class="col-sm-4">
                    		<label class="check"><input id="activity_schedule" type="checkbox" class="icheckbox" ng-model="new_activity.add_to_schedule" icheck/> Add To Schedule</label>
                    	</div>
                    </div>
                    <br><br>
                    <div class="row">
                    	<div class="col-sm-6">
                    		<div class="form-group">
                    			<select class="form-control" id="activity_type" ng-model="new_activity.activity">
                    				<option value="">Select</option>
                    				<option value="Abstract of Title Ordered">Abstract of Title Ordered</option>
                    				<option value="Abstract of Title Received">Abstract of Title Received</option>
                    				<option value="Survey Ordered">Survey Ordered</option>
                    				<option value="Survey Received">Survey Received</option>
                    				<option value="Contract Requested">Contract Requested</option>
                    				<option value="Contract Received">Contract Received</option>
                    				<option value="Contract Sent (Tracking Number)">Contract Sent (Tracking Number)</option>
                    				<option value="Contract Delivered">Contract Delivered</option>
                    				<option value="Mortgage Applied">Mortgage Applied</option>
                    				<option value="Mortgage Approved">Mortgage Approved</option>
                    				<option value="Mortgage Denied">Mortgage Denied</option>
                    				<option value="Mortgage Reapplied">Mortgage Reapplied</option>
                    				<option value="Offer Submitted">Offer Submitted</option>
                    				<option value="Buyer Signed the Contract">Buyer Signed the Contract</option>
                    				<option value="Violations Found">Violations Found</option>
                    				<option value="Violations Removal Started">Violations Removal Started</option>
                    				<option value="Violations Removed">Violations Removed</option>
                    				<option value="Title Clearance Started">Title Clearance Started</option>
                    				<option value="Violations Removed">Violations Removed</option>
                    				<option value="Title Cleared">Title Cleared</option>
                    				<option value="Closing Date Scheduled">Closing Date Scheduled</option>
                    				<option value="All Parties Informed">All Parties Informed</option>
                    				<option value="Cancellation of Purchase Agreement">Cancellation of Purchase Agreement</option>
                    				<option value="Certificate of Title Ordered">Certificate of Title Ordered</option>
                    				<option value="Contingency">Contingency</option>
                    				<option value="Pending Special Assessment">Pending Special Assessment</option>
                    				<option value="Deed Submitted to Clerk Office">Deed Submitted to Clerk Office</option>
                    				<option value="Deed received from Clerk Office">Deed received from Clerk Office</option>
                    				<option value="Deed sent to Buyer">Deed sent to Buyer</option>
                    				<option value="Sent Email to Client">Sent Email to Client</option>
                    				<option value="Sent Email to Attorney">Sent Email to Attorney</option>
                    				<option value="Sent Email to Bank">Sent Email to Bank</option>
                    				<option value="Received Email from Buyer">Received Email from Buyer</option>
                    				<option value="Received Email from Broker">Received Email from Broker</option>
                    				<option value="Buyer Called">Buyer Called</option>
                    				<option value="Attorney Called">Attorney Called</option>
                    				<option value="Called Buyer">Called Buyer</option>
                    				<option value="Called Attorney">Called Attorney</option>
                    				<option value="Faxed Attorney">Faxed Attorney</option>
                    				<option value="Attorney Faxed">Attorney Faxed</option>
                    				<option value="Custom Entry">Custom Entry</option>
                    			</select>
                    		</div>
                    	</div>
                    </div>
                    <br><br>
                    <div class="row">
                    	<div class="col-sm-12" customscroll style="max-height:500px">
                    		<div class="row" ng-repeat="remark in new_activity.remark">
		                    	<div class="col-sm-12">
										<div text-angular ng-model="remark.note" name="demo-editory" ta-text-editor-class="border-around" ta-html-editor-class="border-around"></div>
		                    		<!-- <div class="container lighter">
										<div text-angular ng-model="remark.note" name="demo-editor" ta-text-editor-class="border-around container" ta-html-editor-class="border-around"></div>
									</div> -->
		                    	</div>
		                    </div>
                    		<!-- <wysiwyg textarea-id="question" textarea-class="form-control"  textarea-height="180px" textarea-name="textareaQuestion" textarea-required ng-model="new_activity" enable-bootstrap-title="true"></wysiwyg> -->
                    	</div>
                    </div>
                </div>
                <div class="modal-footer">
                	<button type="button" class="btn btn-default" ng-click="updateActivity()">Save</button>
                </div>
            </div>
        </div>
    </div>





    <div class="modal" id="modal_document" tabindex="-1" role="dialog" aria-labelledby="defModalHead" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" ng-click="resetDocument()" id="close-document-model" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title" id="defModalHead">Document</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                    	<div class="col-sm-12">
                    		<div class="form-group">
                    			<select class="form-control" ng-model="new_document.name">
                    				<option value="">Select</option>
                    				<option value="Bill of Sale">Bill of Sale</option>
                    				<option value="Certificate of Title">Certificate of Title</option>
                    				<option value="Closing statement / HUD-1">Closing statement / HUD-1</option>
                    				<option value="Contract for Deed">Contract for Deed</option>
                    				<option value="Owners Duplicate Certificate of Title">Owner's Duplicate Certificate of Title</option>
                    				<option value="Special Assessment">Special Assessment</option>
                    				<option value="Survey">Survey</option>
                    				<option value="Title Insurance">Title Insurance</option>
                    				<option value="Home Insurance">Home Insurance</option>
                    				<option value="Title Opinion">Title Opinion</option>
                    				<option value="Warranty Deed">Warranty Deed</option>
                    				<option value="Commitment for Title Insurance">Commitment for Title Insurance</option>
                    				<option value="Title Insurance for Lender">Title Insurance for Lender</option>
                    				<option value="Title Insurance for Buyer">Title Insurance for Buyer</option>
                    				<option value="Required Communication Method for a Document or Activity">Required Communication Method for a Document or Activity</option>
                    				<option value="Commitment for Title Insurance">Commitment for Title Insurance</option>
                    				<option value="Type of Insurance Ordered">Type of Insurance Ordered</option>
                    			</select>
                    		</div>
                    	</div>
                    </div>
                    <br><br>
                    <div class="row">
                    	<div class="col-sm-12">
                    		<textarea id="document_remark" class="form-control" placeholder="Document Notes" ng-model="new_document.notes"></textarea>
                    	</div>
                    </div>
                    <br><br>
                    <div class="row">
                    	<div class="col-sm-12">
                    		<input type="file" name="file" id="file" class="fileinput" class="btn btn-default"/>
                    	</div>
                    </div>
                </div>

                <div class="modal-footer">
                	<div class="row">
                		<div class="col-sm-10" style="text-align:left">
                			{{fileUploadMessage}}
                		</div>
                		<div class="col-sm-2">
                			<button type="button" class="btn btn-default" ng-click="saveDocument(false)">Save</button>
                		</div>
                		
                	</div>
                </div>
            </div>
        </div>
    </div>


    <div class="modal" id="modal_document_edit" tabindex="-1" role="dialog" aria-labelledby="defModalHead" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" id="close-document-model-edit" ng-click="resetDocument()"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title" id="defModalHead">Document</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                    	<div class="col-sm-12">
                    		<div class="form-group">
                    			<select class="form-control" ng-model="new_document.name">
                    				<option value="">Select</option>
                    				<option ng-selected="new_document.name=='Bill of Sale'" value="Bill of Sale">Bill of Sale</option>
                    				<option ng-selected="new_document.name=='Certificate of Title'" value="Certificate of Title">Certificate of Title</option>
                    				<option ng-selected="new_document.name=='Closing statement / HUD-1'" value="Closing statement / HUD-1">Closing statement / HUD-1</option>
                    				<option ng-selected="new_document.name=='Contract for Deed'" value="Contract for Deed">Contract for Deed</option>
                    				<option ng-selected="new_document.name=='Owners Duplicate Certificate of Title'" value="Owner/'s Duplicate Certificate of Title">Owner's Duplicate Certificate of Title</option>
                    				<option ng-selected="new_document.name=='Special Assessment'" value="Special Assessment">Special Assessment</option>
                    				<option ng-selected="new_document.name=='Survey'" value="Survey">Survey</option>
                    				<option ng-selected="new_document.name=='Title Insurance'" value="Title Insurance">Title Insurance</option>
                    				<option ng-selected="new_document.name=='Home Insurance'" value="Home Insurance">Home Insurance</option>
                    				<option ng-selected="new_document.name=='Title Opinion'" value="Title Opinion">Title Opinion</option>
                    				<option ng-selected="new_document.name=='Warranty Deed'" value="Warranty Deed">Warranty Deed</option>
                    				<option ng-selected="new_document.name=='Commitment for Title Insurance'" value="Commitment for Title Insurance">Commitment for Title Insurance</option>
                    				<option ng-selected="new_document.name=='Title Insurance for Lender'" value="Title Insurance for Lender">Title Insurance for Lender</option>
                    				<option ng-selected="new_document.name=='Title Insurance for Buyer'" value="Title Insurance for Buyer">Title Insurance for Buyer</option>
                    				<option ng-selected="new_document.name=='Required Communication Method for a Document or Activity'" value="Required Communication Method for a Document or Activity">Required Communication Method for a Document or Activity</option>
                    				<option ng-selected="new_document.name=='Commitment for Title Insurance'" value="Commitment for Title Insurance">Commitment for Title Insurance</option>
                    				<option ng-selected="new_document.name=='Type of Insurance Ordered'" value="Type of Insurance Ordered">Type of Insurance Ordered</option>
                    			</select>
                    		</div>
                    	</div>
                    </div>
                    <br><br>
                    <div class="row">
                    	<div class="col-sm-12">
                    		<textarea id="document_remark" class="form-control" placeholder="Document Notes" ng-model="new_document.notes"></textarea>
                    	</div>
                    </div>
                    <br><br>
                    <div class="row">
                    	<div class="col-sm-12">
                    		<input type="file" name="file" id="editdocumentfile" class="fileinput" class="btn btn-default"/>
                    	</div>
                    </div>
                </div>
                <div class="modal-footer">
                	<div class="row">
                		<div class="col-sm-10" style="text-align:left">
                			{{fileUploadMessage}}
                		</div>
                		<div class="col-sm-2">
                			<button type="button" class="btn btn-default" ng-click="updateDocument()">Save</button>
                		</div>
                		
                	</div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="modal_new_note" tabindex="-1" role="dialog" aria-labelledby="defModalHead" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" id="close-note-model-add" ng-click=""><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title" id="defModalHead">Note</h4>
                </div>
                <div class="modal-body">
                   <div class="row">
                   		<div class="col-sm-12">
                   			<div text-angular ng-model="new_note_for_activity.note" name="demo-editorx" ta-text-editor-class="border-around" ta-html-editor-class="border-around"></div>
                   		</div>
                   </div>
                </div>

                <div class="modal-footer">
                	<div class="row">
                		<div class="col-sm-2">
                			<button type="button" class="btn btn-default" ng-click="addNoteForActivity()">Save</button>
                		</div>
                		
                	</div>
                </div>
            </div>
        </div>
    </div>